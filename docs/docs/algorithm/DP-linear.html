<!DOCTYPE html>
<html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="flattr:id" content="e7nqg5"> <title>åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹ | Mooyyu Crab.</title> <meta name="generator" content="Jekyll v3.9.0"> <meta property="og:title" content="åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹"> <meta name="author" content="mooyyu"> <meta property="og:locale" content="en_US"> <meta name="description" content="åŠ¨æ€è§„åˆ’ä¸“é¢˜ç³»åˆ—ä¸€"> <meta property="og:description" content="åŠ¨æ€è§„åˆ’ä¸“é¢˜ç³»åˆ—ä¸€"> <link rel="canonical" href="https://mooyyu.github.io/docs/algorithm/DP-linear.html"> <meta property="og:url" content="https://mooyyu.github.io/docs/algorithm/DP-linear.html"> <meta property="og:site_name" content="Mooyyu Crab."> <meta property="og:type" content="article"> <meta property="article:published_time" content="2020-03-25T00:00:00+00:00"> <script type="application/ld+json">
{"headline":"åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹","dateModified":"2020-03-25T00:00:00+00:00","datePublished":"2020-03-25T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mooyyu.github.io/docs/algorithm/DP-linear.html"},"author":{"@type":"Person","name":"mooyyu"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mooyyu.github.io/assets/images/logo/mooyyu/m.png"},"name":"mooyyu"},"description":"åŠ¨æ€è§„åˆ’ä¸“é¢˜ç³»åˆ—ä¸€","url":"https://mooyyu.github.io/docs/algorithm/DP-linear.html","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="icon" href="/assets/favicon.ico"> <link rel="stylesheet" href="/assets/stylesheets/main.css?v=20210128-1"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> <script src="/assets/javascript/head.min.js"></script> <script type="text/javascript">

      /**
       * As Github pages do not support https for custom domains
       * this is the current best workaround for #18.
       */
      var domains  = [ 'mooyyu.github.io', 'localhost', '127.0.0.1' ];
      var pathname = location.pathname.replace(/^\/Mooyyu Crab.'s Github Page/, '')
      if (domains.indexOf(window.location.hostname) == -1)
        window.top.location.href = 'https://mooyyu.github.io' + pathname;

      /**
       * Another ugly workaround trying to improve UX reported by #35
       */
      if (location.protocol != 'https:' && window.location.hostname == 'mooyyu.github.io')
        location.href = 'https:' + window.location.href.substring(window.location.protocol.length);

      /**
       * Improves overall speed by loading javascript and css resources in parallel
       * with the main page.
       */
      head.load(
          "/assets/stylesheets/font-awesome.min.css",

          "/assets/javascript/jquery-2.2.1.min.js",
          "/assets/javascript/jquery-ui.min.js",
          "/assets/javascript/bootstrap.min.js",
          "/assets/javascript/tocify.min.js",
          "/assets/javascript/custom.js",

          "/assets/javascript/sheetrock.min.js",
          "/assets/javascript/cookieconsent.min.js",
          "/assets/javascript/pop.min.js"
      );

      head.ready(function() {
        window.cookieconsent_options = {
          "message":"This site use cookies to ensure you get the best experience on the website",
          "dismiss": "Got it!", "learnMore": "More info", "link":"", "theme": "dark-bottom"
        };
        $("body").on('click', '[data-stopPropagation]', function (e) {
          e.stopPropagation();
        });
      });
    </script> </head> <body role="document"> <nav class="navbar navbar-default navbar-fixed-top custom-no-margin"> <div class="container"> <div class="navbar-header"> <a href="/" class="navbar-brand" style="color: slategrey;"> Mooyyu Crab.'s Blog </a> <img id="daynite" src="/assets/images/btn-night.svg" alt="Dark Mode" width="32" height="32"> <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <div class="navbar-collapse collapse" id="navbar-main"> <ul class="nav navbar-nav"> <li><a href="/whoami/">WHO AM I? </a></li> <li class="dropdown siteindex"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation">Site Index <span class="caret"></span></a> <ul class="dropdown-menu"> <li class="dropdown dropdown-submenu algorithm"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-stoppropagation="true" id="navbar-sub-algorithm">Algorithm</a> <ul class="dropdown-menu"> <li><a href="/meta/algorithm/"> All documents </a></li> <li class="divider"> <li><a href="/docs/algorithm/Math-1.html">ç®—æ³•ç«èµ›ç®€å•æ•°è®ºçŸ¥è¯†(ä¸€)</a></li> <li><a href="/docs/algorithm/DP-knapsack.html">åŠ¨æ€è§„åˆ’: èƒŒåŒ…é—®é¢˜ (ä¸€)</a></li> <li><a href="/docs/algorithm/Graph-shortest_path.html">å›¾è®ºæµ…è°ˆä¹‹æœ€çŸ­è·¯</a></li> <li><a href="/docs/algorithm/DP-linear.html">åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹</a></li> <li><a href="/docs/algorithm/DS-1.html">ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)</a></li> <li><a href="/docs/algorithm/Graph-segment_tree_scan.html">çº¿æ®µæ ‘ä¹‹æ‰«æçº¿æµ…è°ˆ</a></li> <li><a href="/docs/algorithm/basic.html">åŸºç¡€ç®—æ³•æ‚è°ˆ</a></li> </ul> </li> <li class="dropdown dropdown-submenu oicode"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-stoppropagation="true" id="navbar-sub-oicode">OI-code</a> <ul class="dropdown-menu"> <li><a href="/meta/oicode/"> All documents </a></li> <li class="divider"> <li><a href="/docs/oicode/B1.html"><strong>B1</strong>: å‰ç¼€å’Œä¸å·®åˆ†</a></li> <li><a href="/docs/oicode/B2.html"><strong>B2</strong>: å¿«é€Ÿç»„åˆ</a></li> <li><a href="/docs/oicode/B3.html"><strong>B3</strong>: äºŒåˆ†æŸ¥æ‰¾</a></li> <li><a href="/docs/oicode/B4-add.html"><strong>B4</strong>: é«˜ç²¾åº¦åŠ æ³•</a></li> <li><a href="/docs/oicode/B4-div.html"><strong>B4</strong>: é«˜ç²¾åº¦é™¤æ³•</a></li> <li><a href="/docs/oicode/B4-multi.html"><strong>B4</strong>: é«˜ç²¾åº¦ä¹˜æ³•</a></li> <li><a href="/docs/oicode/B4-sub.html"><strong>B4</strong>: é«˜ç²¾åº¦å‡æ³•</a></li> <li><a href="/docs/oicode/D1.html"><strong>D1</strong>: å•è°ƒæ ˆ</a></li> <li><a href="/docs/oicode/D2.html"><strong>D2</strong>: å•è°ƒé˜Ÿåˆ—</a></li> <li><a href="/docs/oicode/D3.html"><strong>D3</strong>: Spare Table</a></li> <li><a href="/docs/oicode/D4.html"><strong>D4</strong>: å­—å…¸æ ‘</a></li> <li><a href="/docs/oicode/D5.html"><strong>D5</strong>: å¹¶æŸ¥é›†</a></li> <li><a href="/docs/oicode/D6-rc.html"><strong>D6</strong>: æ ‘çŠ¶æ•°ç»„-é™å®šåŒºé—´è®¡æ•°</a></li> <li><a href="/docs/oicode/D6-surs.html"><strong>D6</strong>: æ ‘çŠ¶æ•°ç»„-å•ç‚¹æ›´æ–°åŒºé—´æ±‚å’Œ</a></li> <li><a href="/docs/oicode/D7-basic.html"><strong>D7</strong>: çº¿æ®µæ ‘-åŸºç¡€</a></li> <li><a href="/docs/oicode/G1.html"><strong>G1</strong>: äºŒåˆ†å›¾-åˆ¤å®š</a></li> <li><a href="/docs/oicode/G2.html"><strong>G2</strong>: äºŒåˆ†å›¾-æœ€å¤§åŒ¹é…</a></li> <li><a href="/docs/oicode/G3.html"><strong>G3</strong>: Astar kçŸ­è·¯ on matrix</a></li> <li><a href="/docs/oicode/G4.html"><strong>G4</strong>: æ‹“æ‰‘æ’åº</a></li> <li><a href="/docs/oicode/G5.html"><strong>G5</strong>: è¿é€šæ— ç¯æ— å‘å›¾çš„é‡å¿ƒ</a></li> <li><a href="/docs/oicode/G6.html"><strong>G6</strong>: MST-Kruskal</a></li> <li><a href="/docs/oicode/G7.html"><strong>G7</strong>: MST-Prim</a></li> <li><a href="/docs/oicode/G8.html"><strong>G8</strong>: ShortestPath-BellmanFord</a></li> <li><a href="/docs/oicode/G9.html"><strong>G9</strong>: ShortestPath-Dijkstra</a></li> <li><a href="/docs/oicode/G9-hopt.html"><strong>G9</strong>: ShortestPath-Dijkstra Heap OPT</a></li> <li><a href="/docs/oicode/G10.html"><strong>G10</strong>: ShortestPath-SPFA</a></li> <li><a href="/docs/oicode/G11.html"><strong>G11</strong>: ShortestPath-Floyd</a></li> <li><a href="/docs/oicode/M1.html"><strong>M1</strong>: å¿«é€Ÿå¹‚ä¸é¾Ÿé€Ÿä¹˜</a></li> <li><a href="/docs/oicode/M2.html"><strong>M2</strong>: æ¬§å‡ é‡Œå¾—-æœ€å¤§å…¬çº¦æ•°</a></li> <li><a href="/docs/oicode/M2-ft.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-ç¿¡èœ€å®šç†</a></li> <li><a href="/docs/oicode/M2-lce.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-çº¿æ€§åŒä½™æ–¹ç¨‹</a></li> <li><a href="/docs/oicode/M2-mi.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-ä¹˜æ³•é€†å…ƒ</a></li> <li><a href="/docs/oicode/M3-flt.html"><strong>M3</strong>: è´¹é©¬å°å®šç†-ä¹˜æ³•é€†å…ƒ</a></li> <li><a href="/docs/oicode/M4.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°</a></li> <li><a href="/docs/oicode/M4-euler.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-æ¬§æ‹‰å‡½æ•°</a></li> <li><a href="/docs/oicode/M4-prc.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-å¤šæ•°ä¹˜ç§¯çº¦æ•°è®¡æ•°</a></li> <li><a href="/docs/oicode/M4-prs.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-å¤šæ•°ä¹˜ç§¯çº¦æ•°æ±‚å’Œ</a></li> <li><a href="/docs/oicode/M5.html"><strong>M5</strong>: æ¬§æ‹‰ç­›</a></li> <li><a href="/docs/oicode/M5-ps.html"><strong>M5</strong>: æ¬§æ‹‰ç­›-è´¨æ•°ç­›</a></li> <li><a href="/docs/oicode/M6.html"><strong>M6</strong>: åŸƒæ°ç­›-è´¨æ•°ç­›</a></li> <li><a href="/docs/oicode/M7.html"><strong>M7</strong>: Steinç®—æ³•-æœ€å¤§å…¬çº¦æ•°</a></li> <li><a href="/docs/oicode/M8.html"><strong>M8</strong>: çŸ©é˜µä¹˜æ³•ä¸å¿«é€Ÿå¹‚</a></li> <li><a href="/docs/oicode/O1.html"><strong>O1</strong>: å¿«é€Ÿæ’åº</a></li> <li><a href="/docs/oicode/O2.html"><strong>O2</strong>: å¹¶å½’æ’åº</a></li> <li><a href="/docs/oicode/S1.html"><strong>S1</strong>: KMP</a></li> <li><a href="/docs/oicode/S2.html"><strong>S2</strong>: å­—ç¬¦ä¸²å“ˆå¸Œ</a></li> </ul> </li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-algorithm">ä¼ ç»Ÿç®—æ³• <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="/docs/algorithm/basic">åŸºç¡€ç®—æ³•æ‚è°ˆ</a></li> <li class="divider"> <li><a href="/docs/algorithm/DS-1">ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)</a></li> <li class="divider"> <li><a href="/docs/algorithm/DP-knapsack">åŠ¨æ€è§„åˆ’:èƒŒåŒ…é—®é¢˜(ä¸€)</a></li> <li><a href="/docs/algorithm/DP-linear">åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹</a></li> <li class="divider"> <li><a href="/docs/algorithm/Graph-shortest_path">å›¾è®ºæµ…è°ˆä¹‹æœ€çŸ­è·¯</a></li> <li><a href="/docs/algorithm/Graph-segment_tree_scan">çº¿æ®µæ ‘ä¹‹æ‰«æçº¿æµ…è°ˆ</a></li> <li class="divider"> <li><a href="/docs/algorithm/Math-1">ç®—æ³•ç«èµ›ç®€å•æ•°è®ºçŸ¥è¯†(ä¸€)</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-math">C++ç¬”è®° <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a>ğŸ¦‰å³å°†ä¸Šçº¿</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-math">æ•°å­¦ç¬”è®° <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a>ğŸ¦‰å³å°†ä¸Šçº¿</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-ai">AIç¬”è®° <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a>ğŸ¦‰å³å°†ä¸Šçº¿</a></li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right visible-lg-block"> </ul> </div> </div> </nav> <div class="container" role="main"> <div class="row"> <div class="col-lg-3 col-md-4 visible-lg-block visible-md-block custom-no-padding"> <div class="custom-fixed-sidebar"> <div id="toc"></div> </div> </div> <div class="col-lg-9 col-md-8 custom-bg-white"> <div class="row"> <div class="col-md-12 custom-article"> <p class="text-right pull-right visible-lg-block hidden-print small custom-pt25"> <a href="//github.com/mooyyu" target="_blank" data-toggle="tooltip" data-placement="bottom" title="Visit mooyyu's profile on Github"><img class="avatar avatar-small" alt="mooyyu" width="30" height="30" data-proofer-ignore="true" src="https://avatars3.githubusercontent.com/mooyyu?v=3&s=30" srcset="https://avatars3.githubusercontent.com/mooyyu?v=3&s=30 1x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=60 2x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=90 3x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=120 4x"></a> </p> <h1 class="custom-article-header">åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹</h1> <p class="text-right pull-right small">25 March 2020</p> <p class="small"> åŠ¨æ€è§„åˆ’ä¸“é¢˜ç³»åˆ—ä¸€ </p> <p><strong>åŠ¨æ€è§„åˆ’é—®é¢˜çš„æœ¬è´¨ï¼šæ— ç¯æœ€çŸ­è·¯é—®é¢˜</strong></p> <h2 id="åŠ¨æ€è§„åˆ’é—®é¢˜åˆ†ææ¨¡å‹">åŠ¨æ€è§„åˆ’é—®é¢˜åˆ†ææ¨¡å‹</h2> <blockquote> <p><strong>DRSO</strong>: difinitionâ€“â€“requestâ€“â€“state trasitionâ€“â€“optimization</p> <p>ä¸€èˆ¬ä¸€ä¸ªå®Œæ•´DPé—®é¢˜çš„åˆ†æå¯ä»¥ç»å†è¿™4ä¸ªæ­¥éª¤ï¼Œä¾æ®å‰3ä¸ªé˜¶æ®µå¯ä»¥å†™å‡ºåŸºç¡€ä»£ç ã€‚å†æ ¹æ®é€’æ¨çš„åŸºç¡€ä»£ç åˆ¤æ–­æ˜¯å¦å¯ä»¥åšä¸€äº›ç­‰ä»·è½¬æ¢ï¼ˆå³ä¼˜åŒ–ï¼‰ï¼Œè‹¥æœ‰å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œåˆ™éœ€ä¼˜åŒ–å¾—åˆ°æœ€åçš„è§£æ³•ï¼›è‹¥æ²¡æœ‰å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œåˆ™è¯¥DPæ¨¡å‹çš„åˆ†æåªæœ‰å‰3ä¸ªé˜¶æ®µã€‚</p> <p>ä¸€èˆ¬DPé—®é¢˜æœ‰é€’æ¨å’Œè®°å¿†åŒ–æœç´¢ä¸¤ç§ç¼–ç æ–¹å¼ï¼Œæœ‰ä¼˜åŒ–çš„DPæ¨¡å‹ä¸€èˆ¬ä¸å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–æœç´¢è§£å†³ã€‚</p> </blockquote> <p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoiZ3JhcGggTFJcbnN1YmdyYXBoIERQ54q25oCB5YiS5YiGXG5xdVtEUOmXrumimF0gLS0-IGV4KOaxguino-aegeWAvOmXrumimClcbmV4IC0uLT4gY3JubT5jYW4gcmVwZWF0ZWQsIG5vdCBtaXNzaW5nXVxucXUgLS0-IGNudCjmsYLop6PorqHmlbDpl67popgpXG5jbnQgLS4tPiBucm5tPm5vdCByZXBlYXRlZCwgbm90IG1pc3NpbmddXG5lbmRcbm1vW0RQ5qih5Z6LXSAtLT4gbGluZWFyW-e6v-aAp-aegeWAvOaooeWei11cbmxpbmVhciAtLT4gbWF0cml4W-efqemYtei3r-W-hOaooeWei11cbm1hdHJpeCAtLT4gdHJpKOaVsOWtl-S4ieinkuW9ouaooeWeiylcbm1hdHJpeCAtLT4gc3BhdGgo5Y2V6Lev5YWD57Sg5ZKM5qih5Z6LKVxubWF0cml4IC0tPiBkcGF0aFvlj4zot6_lhYPntKDlkozmqKHlnotdXG5kcGF0aCAtLT4gZHgo5Y-M6Lev5Y-v5LqkKVxuZHBhdGggLS0-IGRsKOWPjOi3r-WIhuemuylcbmRwYXRoIC0tPiBkeijmnYPlgLzpnZ7otJ8pXG5saW5lYXIgLS0-IHNlcVvluo_liJfmqKHlnotdXG5zZXEgLS0-IHN1YnNlcVvlrZDluo_liJfmqKHlnotdXG5tYXhsZW4o5pyA5aSn6ZW_5bqmKVxubGltc3VtKOWFg-e0oOWSjOaegeWAvClcbm1vbm9zdWJb5Y2V6LCD5a2Q5bqP5YiXXVxuY29tbXN1YlvlhazlhbHlrZDluo_liJddXG5zdWJzZXEgLS0-IG1vbm9zdWJcbnN1YnNlcSAtLT4gY29tbXN1YlxubW9ub3N1YiAtLT4gbGltc3VtXG5tb25vc3ViIC0tPiBtYXhsZW5cbm1vbm9zdWIgPT0-IG1jc3ViW-WNleiwg-WFrOWFseWtkOW6j-WIl11cbmNvbW1zdWIgPT0-IG1jc3ViXG5jb21tc3ViIC0uLT4gbGltc3VtXG5jb21tc3ViIC0tPiBtYXhsZW5cbm1jc3ViIC0uLT4gbGltc3VtXG5tY3N1YiAtLT4gbWF4bGVuXG5zZXEgLS0-IHNjdijmnIDnn63luo_liJfovazmjaLmqKHlnospXG5zZXEgLS0-IHNlY3NlcVvlrZDmrrXlkozmqKHlnotdXG5zZWNzZXEgLS0-IHhzcyjkuIDnu7TlrZDmrrUpXG5zZWNzZXEgLS0-IHh5c3Mo5LqM57u05a2Q55-p6Zi1KVxuc2Vjc2VxIC0uLT4gbGVuc3Mo5a2Q5q616ZW_5bqm6ZmQ5Yi25qih5Z6LKVxuc3Vic2VxIC0tPiBtaW5hbGwo5pyA5bCR5Y2V6LCD5a2Q5bqP5YiX5YiG6YWN5qih5Z6LKVxubW8gLS0-IG90aGVyW-WFtuS7luaooeWei11cbnN0eWxlIG1pbmFsbCBmaWxsOiNiYmYsc3Ryb2tlOiNmNjYsc3Ryb2tlLXdpZHRoOjJweCxjb2xvcjojZmZmLHN0cm9rZS1kYXNoYXJyYXk6IDUsIDUiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ"></p> <h2 id="çº¿æ€§æå€¼dpæ¨¡å‹">çº¿æ€§æå€¼DPæ¨¡å‹</h2> <h3 id="çŸ©é˜µè·¯å¾„æå€¼dpæ¨¡å‹">çŸ©é˜µè·¯å¾„æå€¼DPæ¨¡å‹</h3> <p><strong>çŸ©é˜µè·¯å¾„DPæ¨¡å‹æ˜¯æŒ‡ï¼šåœ¨çŸ©é˜µä¸­æ±‚è§£ä»æºç‚¹è‡³æ±‡ç‚¹ï¼ˆèµ°æ³•ä¸å›å¤´ï¼Œå³æ— ç¯ï¼‰çš„è·¯å¾„æƒå€¼çš„æå€¼</strong></p> <h4 id="æ•°å­—ä¸‰è§’å½¢æ¨¡å‹">æ•°å­—ä¸‰è§’å½¢æ¨¡å‹</h4> <p><strong>æ•°å­—ä¸‰è§’å½¢ï¼Œä»é¡¶éƒ¨å‡ºå‘ï¼Œåœ¨æ¯ä¸€ç»“ç‚¹å¯ä»¥é€‰æ‹©ç§»åŠ¨è‡³å…¶å·¦ä¸‹æ–¹çš„ç»“ç‚¹æˆ–ç§»åŠ¨è‡³å…¶å³ä¸‹æ–¹çš„ç»“ç‚¹ï¼Œä¸€ç›´èµ°åˆ°åº•å±‚ï¼Œè¦æ±‚æ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼Œä½¿è·¯å¾„ä¸Šçš„æ•°å­—çš„å’Œæœ€å¤§æˆ–æœ€å°ã€‚</strong></p> \[\begin{aligned} REQ&amp;\\ &amp;M\{ f(N, i)\mid 1\leqslant i\leqslant N \}\\ STTR&amp;\\ &amp;f(x, y) = ar(x, y) + \begin{array}{c|c}\hline x = 1 &amp; x &gt; 1 \\\hline 0 &amp; \begin{array}{c|c} y = 1 &amp; f(x - 1, y) \\\hline 1 &lt; y &lt; x &amp; M\{ f(x - 1, y), f(x - 1, y) \} \\\hline y = x &amp; f(x - 1, y - 1) \\ \end{array}\\ \hline\end{array}\\ \end{aligned}\] <h4 id="å•è·¯çŸ©é˜µæ¨¡å‹">å•è·¯çŸ©é˜µæ¨¡å‹</h4> <p><strong>å¸¦æƒçŸ©é˜µï¼Œä»ä¸€é¡¶ç‚¹å‡ºå‘åˆ°è¾¾å…¶å¯¹è§’ï¼Œæ­¥æ•°ä¸ºä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œè¦æ±‚æ‰¾å‡ºä¸€æ¡è·¯æ™¯ï¼Œä½¿è·¯å¾„ä¸Šçš„æƒå€¼ä¹‹å’Œæœ€å¤§æˆ–æœ€å°ã€‚</strong></p> \[\begin{aligned} STTR&amp;\\ &amp;f(x, y) = ar(x, y) + \begin{array}{r|c|c}\hline &amp; x = 1 &amp; x &gt; 1 \\\hline y = 1 &amp; 0 &amp; f(x - 1, y) \\\hline y &gt; 1 &amp; f(x, y - 1) &amp; M\{ f(x - 1, y), f(x, y - 1) \} \\ \hline \end{array} \end{aligned}\] <h4 id="åŒè·¯çŸ©é˜µæ¨¡å‹">åŒè·¯çŸ©é˜µæ¨¡å‹</h4> <p><strong>åŸºç¡€æ¨¡å‹ï¼šå¸¦æƒçŸ©é˜µï¼Œä»ä¸€é¡¶ç‚¹å‡ºå‘é€šè¿‡ä¸¤æ¡è·¯å¾„åˆ†åˆ«åˆ°è¾¾å…¶å¯¹è§’ï¼Œå„è·¯å¾„å‡æ»¡è¶³æ­¥æ•°ä¸ºä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œè¦æ±‚ä¸¤è·¯å¾„ä¸Šçš„æƒå€¼ä¹‹å’Œæœ€å¤§æˆ–æœ€å°ã€‚(å„èŠ‚ç‚¹æƒå€¼åªèƒ½è¢«ä¸€æ¡è·¯å¾„æ‰€ç”¨, å¦ä¸€æ¡è·¯å¾„ä¸Šæƒå€¼è¯¥èŠ‚ç‚¹æƒå€¼å˜ä¸º0) åˆ†æä»¥æœ€å¤§ä¸ºä¾‹</strong></p> \[\begin{aligned} DIF&amp;\\ &amp;f(k, a, b)\text{ express the value of two paths respectively ending at (a, k - a) and (b, k - b)}\\ REQ&amp;\\ &amp;f(n + m, n, n)\\ STTR&amp;\\ &amp;f(k, a, b) = \begin{array}{c|c}\hline a &lt; b &amp; a\geqslant b \\\hline f(k, b, a) &amp; \begin{array}{c|c} a - b= 0 &amp; a - b &gt; 0 \\\hline \begin{matrix} ar(a, k - a)\\ +\\ \overbrace{\underbrace{ \begin{matrix} f(k - 1, a, b),\\f(k - 1, a - 1, b - 1),\\f(k - 1, a, b - 1) \end{matrix} }}^{\max} \end{matrix} &amp; \begin{matrix} ar(a, k - a)\\ +\\ ar(b, k - b)\\ +\\ \overbrace{\underbrace{ \begin{matrix} f(k - 1, a, b),\\f(k - 1, a - 1, b - 1),\\f(k - 1, a, b - 1),\\f(k - 1, a - 1, b) \end{matrix} }}^{\max} \end{matrix} \end{array}\\ \hline\end{array}\\ &amp;\natural\quad specially,\ f(k, a, 0) = f(k, k, b) = -\inf,\ a\geqslant b \end{aligned}\] <p><strong>ç‰¹åŒ–æ¨¡å‹1ï¼šåœ¨åŸºç¡€æ¨¡å‹ä¹‹ä¸Šè¦æ±‚é™¤èµ·ç‚¹ä¸ç»ˆç‚¹å¤–ä»»æ„ä¸€ç‚¹è‡³å¤šå±äºä¸€æ¡è·¯å¾„</strong></p> <p><strong>ç‰¹åŒ–æ¨¡å‹2ï¼šåœ¨åŸºç¡€æ¨¡å‹ä¹‹ä¸ŠçŸ©é˜µä¿è¯å„ç‚¹æƒå€¼éè´Ÿï¼ˆæ¨¡å‹2ä¸€å®šæ»¡è¶³æ¨¡å‹1çš„æ¡ä»¶ï¼‰</strong></p> \[\begin{aligned} REQ&amp;\\ &amp;f(n + m - 1, n, n - 1) + ar(n, m) + ar(1, 1)\\ STTR&amp;\\ &amp;f(k, a, b) = \begin{array}{c|c}\hline a &lt; b &amp; a &gt; b \\\hline f(k, b, a) &amp; \begin{matrix} ar(a, k - a)\\ +\\ ar(b, k - b)\\ +\\ \begin{array}{c|c} a - b = 1 &amp; a - b &gt; 1 \\\hline \overbrace{\underbrace{ \begin{matrix} f(k - 1, a, b),\\f(k - 1, a - 1, b - 1),\\f(k - 1, a, b - 1) \end{matrix} }}^{\max} &amp; \overbrace{\underbrace{ \begin{matrix} f(k - 1, a, b),\\f(k - 1, a - 1, b - 1),\\f(k - 1, a, b - 1),\\f(k - 1, a - 1, b) \end{matrix} }}^{\max} \end{array}\\ \end{matrix}\\ \hline \end{array}\\ &amp;\natural\quad initially,\ f(k, a, 0) = f(k, k, b) = \begin{cases} -\inf,&amp;\text{for model 1}\\ 0,&amp;\text{for model 2} \end{cases},\ a\geqslant b\\ &amp;\hphantom{\natural\quad initially, } \ f(3, 2, 1) = ar(1, 2) + ar(2, 1) \end{aligned}\] <h3 id="åºåˆ—æå€¼dpæ¨¡å‹">åºåˆ—æå€¼DPæ¨¡å‹</h3> <h4 id="å•è°ƒå­åºåˆ—">å•è°ƒå­åºåˆ—</h4> <h5 id="å•è°ƒå­åºåˆ—å…ƒç´ å’Œæ¨¡å‹">å•è°ƒå­åºåˆ—å…ƒç´ å’Œæ¨¡å‹</h5> <p><strong>æ±‚è§£å•è°ƒå­åºåˆ—çš„æœ€å¤§æˆ–æœ€å°å…ƒç´ å’Œï¼Œåˆ†æä»¥æœ€å¤§å…ƒç´ å’Œä¸ºä¾‹</strong></p> \[\begin{aligned} DIF&amp;\\ &amp;f(x)\text{ express the largest sum of elements}\\ &amp;\hphantom{f(x) express}\hookrightarrow\text{of a monotonic subsequence ending in ar(x)}\\ REQ&amp;\\ &amp;\max\{ f(x)\mid 1\leqslant x\leqslant N \}\\ STTR&amp;\\ &amp;f(x) = ar(x) + \max\{f(i)\mid i &lt; x, ar(i) &lt; ar(x) \}\\ &amp;\natural\quad specially,\ \max\emptyset = 0 \end{aligned}\] <h5 id="æœ€é•¿å•è°ƒå­åºåˆ—é•¿åº¦æ¨¡å‹">æœ€é•¿å•è°ƒå­åºåˆ—é•¿åº¦æ¨¡å‹</h5> <p><strong>æ±‚è§£æœ€é•¿å•è°ƒä¸Šå‡æˆ–ä¸‹é™å­åºåˆ—çš„é•¿åº¦ï¼Œåˆ†æä»¥ä¸¥æ ¼å•è°ƒä¸Šå‡ä¸ºä¾‹</strong></p> <p><strong>å…·ä½“åˆ°é—®é¢˜é€šå¸¸æœ‰ä¸Š/ä¸‹å¡æ¨¡å‹å’Œå•å³°/è°·æ¨¡å‹</strong></p> \[\begin{aligned} DIF&amp;\\ &amp;f(x)\text{ express the length of the longest monotonic subsequence}\\ &amp;\hphantom{f(x) express}\hookrightarrow\text{of the last element at the x position}\\ REQ&amp;\\ &amp;\max\{ f(x)\mid 1 \leqslant x\leqslant N \}\\ STTR&amp;\\ &amp;f(x) = 1 + \max\{ f(i)\mid i &lt; x, ar(i) &lt; ar(x) \}\\ &amp;\natural\quad specially,\ \max\emptyset = 0 \end{aligned}\] <blockquote> <p>OPT</p> </blockquote> <p><em>æ³¨ï¼šè¯¥ä¼˜åŒ–å¹¶éå»ºç«‹åœ¨åŸºç¡€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¹‹ä¸Šï¼Œæ‰€ä»¥ä¸¥æ ¼æ¥è¯´ä¸å±äºDP</em></p> <p>å¯¹äºä¸€ä¸ªç»™å®šçš„åºåˆ—ï¼Œæˆ‘ä»¬å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªç»´æŠ¤æ•°ç»„ï¼Œæ•°ç»„ç¬¬\(i\)ä¸ªå…ƒç´ å­˜å‚¨è¯¥åºåˆ—çš„é•¿åº¦ä¸º\(i\)çš„ä¸¥æ ¼å•è°ƒä¸Šå‡å­åºåˆ—çš„å°¾å…ƒç´ çš„å€¼ï¼Œæ˜“çŸ¥è¿™æ ·çš„æ•°ç»„æœ‰ä¸¤ä¸ªæ€§è´¨ï¼š</p> <ul> <li>æ•°ç»„çš„å¤§å°ä¸ºè¯¥ç»´æŠ¤åºåˆ—çš„æœ€é•¿ä¸¥æ ¼å•è°ƒä¸Šå‡å­åºåˆ—çš„é•¿åº¦</li> <li>æ•°ç»„ä¸­çš„å…ƒç´ çš„å€¼æ˜¯ä¸¥æ ¼å•è°ƒä¸Šå‡çš„</li> </ul> <p><img src="/assets/images/algorithm/DP-linear/longest_subseq_model_opt.svg" alt="æœ€é•¿å­åºåˆ—æ¨¡å‹ä¼˜åŒ–"></p> <p><strong>ä½¿ç”¨å½’çº³æ³•è¿›è¡Œåˆ†æ</strong></p> <p>æ˜¾ç„¶ï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ï¼Œå…¶ç»´æŠ¤æ•°ç»„ä¸­ä¹Ÿä»…æœ‰è¿™ä¸ªå…ƒç´ ã€‚</p> <p>ç°åœ¨éœ€è¦åœ¨ç»™å®šåºåˆ—çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ›´æ–°ç»´æŠ¤æ•°ç»„å°±æœ‰ä¸¤ç§æƒ…å†µ</p> <ol> <li> <p>å¦‚å›¾ä¸­\(k1\)æ‰€ç¤ºï¼Œæ–°å¢å…ƒç´ çš„å€¼ä¸å¤§äºç°æœ‰æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå®ƒå°†æˆä¸ºæ–°åºåˆ—çš„é•¿åº¦ä¸º1çš„ä¸¥æ ¼å•è°ƒä¸Šå‡å­åºåˆ—çš„å°¾å…ƒç´ ï¼Œå³\(k1\)å°†æ›´æ–°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p> </li> <li> <p>å¦‚å›¾ä¸­\(k2\)æ‰€ç¤ºï¼Œæ–°å¢å…ƒç´ çš„å€¼æ¯”ç°æœ‰æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ è¦å¤§ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥æ‰¾åˆ°æ•°ç»„ä¸­å°äº\(k2\)çš„æœ€å¤§å…ƒç´ \(j\)ï¼Œç”±äºæ•°ç»„æ˜¯å•è°ƒçš„ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚</p> <p>é‚£ä¹ˆæ–°å¢å…ƒç´ å°†ä¸\(j\)æ‰€åœ¨å­åºåˆ—æ„\(v\)æˆæ¯”\(v\)é•¿åº¦å¤§1çš„æ–°çš„ä¸¥æ ¼å•è°ƒä¸Šå‡å­åºåˆ—ï¼Œå³\(k2\)å°†æ›´æ–°æ•°ç»„ä¸­ç¬¬\(j + 1\)ä¸ªå…ƒç´ ã€‚æ˜æ˜¾çš„ï¼Œè‹¥æ‰¾åˆ°çš„å…ƒç´ ä¸ºç°æœ‰æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ™æ•°ç»„çš„å¤§å°å°†åŠ 1ã€‚</p> </li> </ol> <p>å¦‚æ­¤ï¼Œå¯¹äºåœ¨æœ«å°¾æ·»åŠ æ–°å…ƒç´ çš„åºåˆ—ä¾¿å¯ä»¥æ›´æ–°å¯¹åº”çš„ç»´æŠ¤æ•°ç»„ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">rfind</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">mid</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">l</span><span class="p">;</span>
	<span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1u</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">val</span><span class="p">)</span> <span class="k">return</span> <span class="n">rfind</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">return</span> <span class="n">rfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">solve</span><span class="p">()</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pos</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="n">rfind</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">len</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">len</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
			<span class="n">ex</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="p">}</span> <span class="k">else</span> <span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>ä¹Ÿå¯ä»¥åˆ†ä¸ºã€Œæ¯”æœ€åä¸€ä¸ªå…ƒç´ è¿˜å¤§ã€å’Œã€Œå¯»æ‰¾ä¸å°äºæ–°å…ƒç´ çš„æœ€å°å…ƒç´ ã€ä¸¤ç§æƒ…å†µï¼ŒåŒç†ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">lfind</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">mid</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">l</span><span class="p">;</span>
	<span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1u</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="n">ex</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="k">return</span> <span class="n">lfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">return</span> <span class="n">lfind</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">solve</span><span class="p">()</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pos</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ex</span><span class="p">[</span><span class="n">len</span><span class="p">])</span> <span class="p">{</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="n">lfind</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
			<span class="n">ex</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="p">}</span> <span class="k">else</span> <span class="n">ex</span><span class="p">[</span><span class="o">++</span><span class="n">len</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>ä¸Šé¢ä¸¤ä»½ä»£ç ä¸­\(lfind\)å’Œ\(rfind\)æ˜¯äºŒåˆ†æŸ¥æ‰¾<sup id="fnref:b_find" role="doc-noteref"><a href="#fn:b_find" class="footnote">1</a></sup>çš„ä¸¤ç§æ¨¡å¼ã€‚</p> <h5 id="æœ€å°‘å•è°ƒå­åºåˆ—åˆ†é…æ¨¡å‹">æœ€å°‘å•è°ƒå­åºåˆ—åˆ†é…æ¨¡å‹</h5> <p><strong>é€šå¸¸æ±‚è§£å°†ä¸€ä¸ªåºåˆ—ä¸­çš„å…ƒç´ ä¸é‡ä¸æ¼çš„åˆ†é…åˆ°æœ€å°‘çš„å•è°ƒå­åºåˆ—ä¸­å»ï¼Œåˆ†æä»¥éä¸¥æ ¼å•ä¸‹é™ä¸ºä¾‹</strong></p> <p><em>è¯¥æ¨¡å‹ä¸¥æ ¼æ¥è¯´ä¸å±äºDPé—®é¢˜ï¼Œä½†æ˜¯å…¶æ€æƒ³å’Œä¼˜åŒ–çš„æœ€é•¿å•è°ƒå­åºåˆ—æ€æƒ³ä¸€è‡´ï¼Œæ•…æ”¾åˆ°è¿™é‡Œ</em></p> <p>å¯¹äºä¸€ä¸ªç»™å®šçš„åºåˆ—ï¼Œæˆ‘ä»¬å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªç»´æŠ¤æ•°ç»„ï¼Œæ•°ç»„ç¬¬\(i\)ä¸ªå…ƒç´ å­˜å‚¨è¯¥åºåˆ—åˆ†é…çš„ç¬¬\(i\)â€‹ä¸ªéä¸¥æ ¼å•è°ƒä¸‹é™å­åºåˆ—çš„å°¾å…ƒç´ çš„å€¼ï¼Œç”±äºæœŸæœ›åˆ†é…çš„å­åºåˆ—ä¸ªæ•°æœ€å°‘ï¼Œå½“åºåˆ—æœ«å°¾æ–°å¢å…ƒç´ éœ€è¦åˆ†é…æ—¶ï¼Œæœ‰ä¸¤ä¸ªæ˜¾ç„¶çš„åŸåˆ™ï¼š</p> <ol> <li>èƒ½ä¸æ–°å¢å­åºåˆ—å°±ä¸æ–°å¢ï¼Œå³å°½é‡å°†æ–°å…ƒç´ åŠ åœ¨å·²æœ‰åºåˆ—çš„åé¢</li> <li>è‹¥å°†æ–°å¢å…ƒç´ åŠ è½½å·²æœ‰åºåˆ—çš„åé¢ï¼Œåˆ™å°½é‡ä½¿æ·»åŠ åå„åºåˆ—çš„å°¾å…ƒç´ éƒ½å°½é‡å¤§</li> </ol> <p>æ˜“çŸ¥è¿™æ ·çš„æ•°ç»„æœ‰ä¸¤ä¸ªæ€§è´¨ï¼š</p> <ul> <li>æ•°ç»„çš„å¤§å°ä¸ºè¯¥ç»´æŠ¤åºåˆ—çš„æœ€å°‘éä¸¥æ ¼å•è°ƒä¸‹é™å­åºåˆ—ä¸ªæ•°</li> <li>æ•°ç»„ä¸­çš„å…ƒç´ çš„å€¼æ˜¯ä¸¥æ ¼å•è°ƒä¸Šå‡çš„</li> </ul> <p><img src="/assets/images/algorithm/DP-linear/min_mono_alloc_model.svg" alt="æœ€å°‘å•è°ƒå­åºåˆ—åˆ†é…æ¨¡å‹"></p> <p><strong>ä½¿ç”¨å½’çº³æ³•è¿›è¡Œåˆ†æ</strong></p> <p>æ˜¾ç„¶ï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ï¼Œå…¶ç»´æŠ¤æ•°ç»„ä¸­ä¹Ÿä»…æœ‰è¿™ä¸ªå…ƒç´ ã€‚</p> <p>ç°åœ¨éœ€è¦åœ¨ç»™å®šåºåˆ—çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ›´æ–°ç»´æŠ¤æ•°ç»„å°±æœ‰ä¸¤ç§æƒ…å†µ</p> <ol> <li> <p>å¦‚å›¾ä¸­\(k1\)æ‰€ç¤ºï¼Œæ–°å¢å…ƒç´ çš„å€¼ä¸å¤§äºç°æœ‰æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥æ‰¾åˆ°æ•°ç»„ä¸­ä¸å°äº\(k1\)çš„æœ€å°å…ƒç´ \(j\)ï¼Œç”±äºæ•°ç»„æ˜¯å•è°ƒçš„ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚</p> <p>é‚£ä¹ˆæ–°å¢å…ƒç´ å°†æ”¾åœ¨\(j\)æ‰€åœ¨å­åºåˆ—çš„æœ€åï¼Œå³\(k1\)å°†æ›´æ–°æ•°ç»„ä¸­ç¬¬\(j\)ä¸ªå…ƒç´ ã€‚</p> </li> <li> <p>å¦‚å›¾ä¸­\(k2\)æ‰€ç¤ºï¼Œæ–°å¢å…ƒç´ çš„å€¼æ¯”ç°æœ‰æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ è¿˜å¤§ï¼Œé‚£ä¹ˆå®ƒå°†æ”¾åˆ°æ–°å¢çš„ä¸€ä¸ªå­åºåˆ—ä¸­å»ï¼Œå³\(k2\)å°†æˆä¸ºæ•°ç»„ä¸­æ–°å¢çš„ä¸€ä¸ªå…ƒç´ ã€‚</p> </li> </ol> <p>å¦‚æ­¤ï¼Œå¯¹äºåœ¨æœ«å°¾æ·»åŠ æ–°å…ƒç´ çš„åºåˆ—ä¾¿å¯ä»¥æ›´æ–°å¯¹åº”çš„ç»´æŠ¤æ•°ç»„ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">lfind</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">mid</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">l</span><span class="p">;</span>
	<span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1u</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">val</span><span class="p">)</span> <span class="k">return</span> <span class="n">lfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">return</span> <span class="n">lfind</span><span class="p">(</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">solve</span><span class="p">()</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pos</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="n">lfind</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
			<span class="n">ex</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="p">}</span> <span class="k">else</span> <span class="n">ex</span><span class="p">[</span><span class="o">++</span><span class="n">cnt</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">cnt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>ä¹Ÿå¯ä»¥åˆ†ä¸ºã€Œä¸å¤§äºç¬¬ä¸€ä¸ªå…ƒç´ ã€å’Œã€Œå¯»æ‰¾å°äºæ–°å…ƒç´ çš„æœ€å¤§å…ƒç´ ã€ä¸¤ç§æƒ…å†µï¼ŒåŒç†ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">rfind</span><span class="p">(</span><span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">mid</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">l</span><span class="p">;</span>
	<span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1u</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">val</span><span class="p">)</span> <span class="k">return</span> <span class="n">rfind</span><span class="p">(</span><span class="n">mid</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">return</span> <span class="n">rfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">solve</span><span class="p">()</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pos</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="n">rfind</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">cnt</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">cnt</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
			<span class="n">ex</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="p">}</span> <span class="k">else</span> <span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">cnt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h5 id="æœ€é•¿é•¿åº¦ä¸æœ€å°‘åˆ†é…çš„å…³ç³»">æœ€é•¿é•¿åº¦ä¸æœ€å°‘åˆ†é…çš„å…³ç³»</h5> <p>å®¹æ˜“å‘ç°è¿™ä¸¤ä¸ªæ¨¡å‹çš„è´ªå¿ƒæ€è·¯ä¸ä»£ç å®ç°æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜è¿™ä¸¤ä¸ªé—®é¢˜æ¨¡å‹å®é™…ä¸Šç”¨çš„æ˜¯ä¸€ç§ç®—æ³•æ¨¡å‹æ±‚è§£çš„ã€‚æ¢è¨€ä¹‹ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜æ¨¡å‹æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ã€‚æˆ‘ä»¬è®¾ä¸€ç§å•è°ƒæ€§ä¸º\(\lambda\),åˆ™å¯¹äºä¸€ä¸ªç¡®å®šçš„åºåˆ—ï¼Œæœ‰å¦‚ä¸‹æ€§è´¨: \(æ»¡è¶³\lambdaçš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦ = æ»¡è¶³\lnot\lambdaçš„æœ€å°‘å­åºåˆ—çš„åˆ†é…ä¸ªæ•°\)</p> <h4 id="å…¬å…±å­åºåˆ—">å…¬å…±å­åºåˆ—</h4> <h5 id="å…¬å…±å­åºåˆ—å…ƒç´ å’Œæ¨¡å‹">å…¬å…±å­åºåˆ—å…ƒç´ å’Œæ¨¡å‹*</h5> <p>ï¼ˆå¾…è¡¥å……ï¼‰</p> <h5 id="æœ€é•¿å…¬å…±å­åºåˆ—æ¨¡å‹">æœ€é•¿å…¬å…±å­åºåˆ—æ¨¡å‹</h5> <p><strong>é€šå¸¸æ±‚è§£ä¸¤ä¸ªå­åºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—</strong></p> \[\begin{aligned} DIF&amp;\\ &amp;the\ two\ sequences\ are\ respectively\ expressed\ by\ a, b\\ &amp;f(i, j)\text{ express the length of the longest common subsequence}\\ &amp;\hphantom{f(i, j) express}\hookrightarrow\text{of the sequence of the first i elements of sequence a}\\ &amp;\hphantom{f(i, j) express}\hookrightarrow\text{and the sequence of the first j elements of sequence b}\\ STTR&amp;\\ &amp;state\ division: a(i), b(j)\ respectively\ in\ the\ common\ subsequence\ or\ not\\ &amp;\hphantom{state\ division: }\begin{vmatrix}\!\!\begin{array}{r|cc} \hline &amp; a(i)\ is\ in &amp; a(i)\ is\ not\ in \\ \hline b(j)\ is\ in &amp; \mathit{11} &amp; \mathit{01} \\ b(j)\ is\ not\ in &amp; \mathit{10} &amp; \mathit{00}\\ \hline \end{array}\!\!\end{vmatrix}\\ &amp;state\ expression: \begin{array}{c|c}\hline f(i, j - 1) &amp; \mathit{00}\cup\mathit{10} \\\hline f(i - 1, j) &amp; \mathit{00}\cup\mathit{01} \\\hline f(i - 1, j - 1) + 1 &amp; \mathit{11} \\ \hline\end{array}\\ &amp;f(i, j) = \begin{array}{r|l}\hline a(i) = b(j) &amp; \max\{ f(i, j - 1), f(i - 1, j), f(i - 1, j - 1) + 1 \} \\\hline a(i)\not = b(j) &amp; \max\{ f(i, j - 1), f(i - 1, j) \} \\ \hline\end{array}\\ &amp;\natural\quad specially,\ f(i, 0) = f(0, j) = 0 \end{aligned}\] <blockquote> <p>ç»å…¸åº”ç”¨</p> </blockquote> <ul> <li>å¯¹äºä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸²ï¼Œæœ€å°‘éœ€è¦æ·»åŠ å‡ ä¸ªå­—ç¬¦ï¼Œæ‰èƒ½å˜æˆå›æ–‡ä¸²ã€‚</li> </ul> <h4 id="å•è°ƒå…¬å…±å­åºåˆ—">å•è°ƒå…¬å…±å­åºåˆ—</h4> <h5 id="å•è°ƒå…¬å…±å­åºåˆ—å…ƒç´ å’Œæ¨¡å‹">å•è°ƒå…¬å…±å­åºåˆ—å…ƒç´ å’Œæ¨¡å‹*</h5> <p>ï¼ˆå¾…è¡¥å……ï¼‰</p> <h5 id="æœ€é•¿å•è°ƒå…¬å…±å­åºåˆ—æ¨¡å‹">æœ€é•¿å•è°ƒå…¬å…±å­åºåˆ—æ¨¡å‹</h5> <p><strong>åˆ†æä»¥æœ€é•¿å•è°ƒä¸Šå‡å…¬å…±å­åºåˆ—ä¸ºä¾‹</strong></p> <p>\(\begin{aligned} DIF&amp;\\ &amp;f(i, j)\text{ express the longest monotonic common subsequence}\\ &amp;\hphantom{f(i, j) express\quad}\hookrightarrow\text{of the sequence of the first i elements of sequence a}\\ &amp;\hphantom{f(i, j) express\quad}\hookrightarrow\text{and the sequence of the first j elements of sequence b}\\ &amp;\hphantom{f(i, j) express}\hookrightarrow\text{ending in b(j)}\\ REQ&amp;\\ &amp;\max\{ a.legnth, i)\mid 1\leqslant i\leqslant b.length \}\\ STTR&amp;\\ &amp;state\ division: \text{a(i) is not contained or behind element b(k)}\\ &amp;f(i, j) = \begin{array}{r|c}\hline a(i) \not= b(j) &amp; f(i - 1, j) \\\hline a(i) = b(j) &amp; \max\begin{Bmatrix} f(i - 1, j),\\ 1 + \max\{ f(i - 1, k)\mid 1\leqslant k &lt; j, b(k) &lt; b(j) \}\\ \end{Bmatrix} \\ \hline\end{array}\\ &amp;\natural\quad specially,\ \max\emptyset = 0, f(0, j) = 0 \end{aligned}\) <em>æœ´ç´ é€’æ¨ä»£ç </em></p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>	<span class="c1">// It doesn't matter if the first loop is n or m</span>
    <span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>	<span class="c1">// initialization of the global variable is 0</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>	<span class="c1">// b[j] equals with a[i]</span>
                    <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <blockquote> <p>OPT</p> </blockquote> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">maxv</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>	<span class="c1">// n must be the outermost loop</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">maxv</span> <span class="o">=</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">cnt</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">maxv</span><span class="p">);</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="n">maxv</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">maxv</span><span class="p">,</span> <span class="n">cnt</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="æœ€çŸ­åºåˆ—è½¬æ¢æ¨¡å‹">æœ€çŸ­åºåˆ—è½¬æ¢æ¨¡å‹</h4> <p><strong>é€šå¸¸ç»™å‡ºåˆå§‹åºåˆ—ä¸ç›®æ ‡åºåˆ—ï¼Œç»™å®šå‡ ç§è½¬æ¢æ–¹å¼ï¼Œæ±‚è§£æœ€å°‘è½¬æ¢æ¬¡æ•°ï¼Œåˆ†æéœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æ</strong></p> <ul> <li> <p>æœ€çŸ­ç¼–è¾‘è·ç¦»</p> <p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Aå’ŒBï¼Œç°åœ¨è¦å°†Aç»è¿‡è‹¥å¹²æ“ä½œå˜ä¸ºBï¼Œå¯è¿›è¡Œçš„æ“ä½œæœ‰ï¼š</p> <ol> <li>åˆ é™¤â€“å°†å­—ç¬¦ä¸²Aä¸­çš„æŸä¸ªå­—ç¬¦åˆ é™¤ã€‚</li> <li>æ’å…¥â€“åœ¨å­—ç¬¦ä¸²Açš„æŸä¸ªä½ç½®æ’å…¥æŸä¸ªå­—ç¬¦ã€‚</li> <li>æ›¿æ¢â€“å°†å­—ç¬¦ä¸²Aä¸­çš„æŸä¸ªå­—ç¬¦æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚</li> </ol> <p>ç°åœ¨è¯·ä½ æ±‚å‡ºï¼Œå°†Aå˜ä¸ºBè‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œã€‚</p> </li> </ul> \[\begin{aligned} DIF&amp;\\ &amp;f(i, j)\text{ express the shortest conversation step}\\ &amp;\hphantom{f(i, j) express}\hookrightarrow\text{from the sequence of the first i elements of A}\\ &amp;\hphantom{f(i, j) express}\hookrightarrow\text{to the sequence of the first j elements of B}\\ STTR&amp;\\ &amp;\natural\quad state\ division: \text{tail element performed which operation or not}\\ &amp;f(i, j) = \min\begin{array}{r|c}\hline A(i) = B(j) &amp; \min\{ f(i - 1, j) + 1, f(i, j - 1) + 1, f(i - 1, j - 1) \} \\\hline A(i) \not= B(j) &amp; 1 + \min\{ f(i - 1, j), f(i, j - 1), f(i - 1, j - 1) \} \\ \hline\end{array}\\ &amp;\natural\quad specially,\ f(i, 0) = i, f(0, j) = j \end{aligned}\] <h4 id="å­æ®µå’Œæ¨¡å‹">å­æ®µå’Œæ¨¡å‹</h4> <p><strong>é€šå¸¸æ±‚è§£å…ƒç´ å’Œæœ€å¤§æˆ–æœ€å°çš„å­æ®µ</strong></p> <h5 id="ä¸€ç»´å­æ®µæ¨¡å‹">ä¸€ç»´å­æ®µæ¨¡å‹</h5> \[\begin{aligned} DIF&amp;\\ &amp;f(x)\text{ express the extre sum of elements}\\ &amp;\hphantom{f(x) express}\hookrightarrow\text{of a subsection ending in ar(x)}\\ REQ&amp;\\ &amp;M\{ f(x)\mid 1\leqslant x\leqslant N \}\\ STTR&amp;\\ &amp;f(x) = ar(x) + M\{0, f(x - 1)\}\\ &amp;\natural\quad specially,\ f(1) = ar(1) \end{aligned}\] <h5 id="äºŒç»´å­çŸ©é˜µæ¨¡å‹">äºŒç»´å­çŸ©é˜µæ¨¡å‹</h5> \[\begin{aligned} DIF&amp;\\ &amp;f(i, j, x)\text{ express extre sum of elements of the matrix}\\ &amp;\hphantom{f(i, j, x) express}\hookrightarrow\text{with x columns as the last column}\\ &amp;\hphantom{f(i, j, x) express}\hookrightarrow\text{containing i ~ j rows}\\ REQ&amp;\\ &amp;M\{ f(i, j, x)\mid 1\leqslant i\leqslant j\leqslant N, 1\leqslant x\leqslant M \}\\ STTR&amp;\\ &amp;f(i, j, x) = \sum_{row = i}^j ar(row, x) + M\{ 0, f(i, j, x - 1) \}\\ &amp;\natural\quad specially,\ f(i, j, 1) = \sum_{row = i}^j ar(row, 1) \end{aligned}\] <blockquote> <p>OPT</p> </blockquote> <p>äºŒç»´çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œé€šè¿‡é™ç»´è½¬æ¢ä¸ºä¸€ç»´æ¨¡å‹</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ret</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fill</span><span class="p">(</span><span class="n">ex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ex</span> <span class="o">+</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0LL</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">static</span> <span class="n">llong</span> <span class="n">sum</span><span class="p">;</span>
        <span class="n">sum</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ex</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">ar</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">ex</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">ans</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ex</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ans</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">ex</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">ans</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">max</span><span class="p">(</span><span class="mi">0LL</span><span class="p">,</span> <span class="n">ans</span><span class="p">[</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <blockquote> <p>ç»å…¸é¢˜ç›®</p> </blockquote> <ul> <li> <p>æœ‰ä¸€ä¸ªç¥å¥‡çš„ç¯çŠ¶çŸ©é˜µï¼Œå®ƒçš„ç¬¬ä¸€è¡Œä¸æœ€åä¸€è¡Œç›¸è¿ï¼Œç¬¬ä¸€åˆ—ä¸æœ€åä¸€åˆ—ç›¸è¿ã€‚æ±‚è¿™ä¸ªçŸ©é˜µçš„æœ€å¤§éç©ºå­çŸ©é˜µå’Œæ˜¯å¤šå¤§ï¼Œè§„å®šçŸ©é˜µæ¯ä¸ªä½ç½®å…ƒç´ æœ€å¤šå‡ºç°ä¸€æ¬¡ã€‚</p> <p><strong>ä¸€èˆ¬å¯¹äºç¯çŠ¶é—®é¢˜éƒ½å¯ä»¥è½¬æ¢ä¸ºä¸¤å€é•¿åº¦+ä¸€å€é™åˆ¶ã€‚æœ¬é¢˜åœ¨ç´¯ç§¯æ–¹å‘å¯ä»¥è¿™ä¹ˆåšï¼Œä½†åœ¨DPæ–¹å‘ä¸å¯ä»¥ï¼Œå› ä¸ºæœ‰é™åˆ¶çš„æƒ…å†µä¸‹ä¸æ»¡è¶³æœ€ä¼˜å­ç»“æ„ï¼ˆæˆ–ä½¿ç”¨é•¿åº¦é™åˆ¶æ¨¡å‹ï¼‰ï¼Œè¿™é‡Œç»™å‡ºæ›´ç®€å•çš„æ–¹æ³•</strong></p> </li> </ul> \[\begin{aligned} DIF&amp;\\ &amp;\begin{aligned} f(i, j, x) &amp;= \sum_{row = i}^j ar(row, x) + \max\{ 0, f(i, j, x - 1) \},\\ &amp;\quad\natural\quad specially,\ f(i, j, 1) =\sum_{row = i}^j ar(row, 1)\\ g(i, j, x) &amp;= \sum_{row = i}^j ar(row, x) + \min\{ 0, g(i, j, x - 1) \},\\ &amp;\quad\natural\quad specially,\ g(i, j, 1) =\sum_{row = i}^j ar(row, 1)\\ F(i, j) &amp;= \max\{ f(i, j, x)\mid 1\leqslant x\leqslant M \}\\ G(i, j) &amp;= \min\{ g(i, j, x)\mid 1\leqslant x\leqslant M \}\\ \mathbb{SUM}(i, j) &amp;= \sum_{row = i}^j\sum_{col = 1}^M ar(row, col)\\ \end{aligned}\\ REQ&amp;\\ &amp;\max\{ FF(i, j)\mid 1\leqslant i\leqslant j\leqslant N\}\\ \\STTR&amp;\\ &amp;FF(i, j) = \begin{array}{r|c}\hline G(i, j) = \mathbb{SUM}(i, j) &amp; F(i, j) \\\hline G(i, j) \not= \mathbb{SUM}(i, j) &amp; \max\{ F(i, j), \mathbb{SUM} - G(i, j) \} \\ \hline\end{array} \end{aligned}\] <h5 id="å­æ®µé•¿åº¦é™åˆ¶æ¨¡å‹">å­æ®µé•¿åº¦é™åˆ¶æ¨¡å‹*</h5> <p>(å¾…è¡¥å……)</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:b_find" role="doc-endnote"> <p>å¯¹äºå¯è¢«æŸæ€§è´¨åˆ’åˆ†ä¸ºä¸¤æ®µã€Œä¸€æ®µä¸ºæ»¡è¶³è¯¥æ€§è´¨çš„åºåˆ—ï¼ˆéç©ºï¼‰ï¼Œå¦ä¸€æ®µä¸ºä¸æ»¡è¶³è¯¥æ€§è´¨çš„åºåˆ—ã€çš„åºåˆ—ï¼ˆéç©ºï¼‰ï¼ŒæŸ¥æ‰¾ã€Œä¸´ç•Œæ»¡è¶³è¯¥æ€§è´¨çš„ã€çš„å…ƒç´ çš„æ–¹æ³•ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ã€‚åç»­ä¼šåœ¨æœ¬åšå®¢ä¸“é¢˜æ–‡ç« ä¸­è¯¦ç»†è¯´æ˜ã€‚Â <a href="#fnref:b_find" class="reversefootnote" role="doc-backlink">â†©</a></p> </li> </ol> </div> </div> </div> </div> </div> </div> <footer> <div class="container"> <div class="row"> <div class="col-lg-8"> <p>Mooyyu Crab.'s Blog <i class="fa fa-heart text-danger" aria-hidden="true"></i>. Check out <a href="//github.com/mooyyu/mooyyu.github.io" target="_blank">Github Project <i class="fa fa-github-alt" aria-hidden="true"></i></a>.<br> The contents of this website are Â© 2021 under the terms of the <a href="//www.gnu.org/licenses/gpl-3.0.txt" target="_blank">GPLv3</a> License.</p> </div> <div class="col-lg-4"> <div class="pull-right"> <a href="#top" data-proofer-ignore> Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a> </div> </div> </div> </div> </footer> <div style="width: 100%; overflow-x: hidden;"> <canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"></canvas> </div> <script>
  MathJax = {
    options: {
      enableMenu: false
    }
  };
</script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-128176907-1', {
          'cookieDomain': 'mooyyu.github.io',
          'siteSpeedSampleRate': 80
      });

      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script> </body> </html>
