<!DOCTYPE html>
<html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="flattr:id" content="e7nqg5"> <title>ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€) | Mooyyu Crab.</title> <meta name="generator" content="Jekyll v3.9.0"> <meta property="og:title" content="ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)"> <meta name="author" content="mooyyu"> <meta property="og:locale" content="en_US"> <meta name="description" content="æ•°æ®ç»“æ„ç³»åˆ—ä¸“é¢˜ä¸€"> <meta property="og:description" content="æ•°æ®ç»“æ„ç³»åˆ—ä¸“é¢˜ä¸€"> <link rel="canonical" href="https://mooyyu.github.io/docs/algorithm/DS-1.html"> <meta property="og:url" content="https://mooyyu.github.io/docs/algorithm/DS-1.html"> <meta property="og:site_name" content="Mooyyu Crab."> <meta property="og:type" content="article"> <meta property="article:published_time" content="2020-03-30T00:00:00+00:00"> <script type="application/ld+json">
{"headline":"ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)","dateModified":"2020-03-30T00:00:00+00:00","datePublished":"2020-03-30T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mooyyu.github.io/docs/algorithm/DS-1.html"},"author":{"@type":"Person","name":"mooyyu"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mooyyu.github.io/assets/images/logo/mooyyu/m.png"},"name":"mooyyu"},"description":"æ•°æ®ç»“æ„ç³»åˆ—ä¸“é¢˜ä¸€","url":"https://mooyyu.github.io/docs/algorithm/DS-1.html","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="icon" href="/assets/favicon.ico"> <link rel="stylesheet" href="/assets/stylesheets/main.css"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> <script src="/assets/javascript/head.min.js"></script> <script type="text/javascript">

      /**
       * As Github pages do not support https for custom domains
       * this is the current best workaround for #18.
       */
      var domains  = [ 'mooyyu.github.io', 'localhost', '127.0.0.1' ];
      var pathname = location.pathname.replace(/^\/Mooyyu Crab.'s Github Page/, '')
      if (domains.indexOf(window.location.hostname) == -1)
        window.top.location.href = 'https://mooyyu.github.io' + pathname;

      /**
       * Another ugly workaround trying to improve UX reported by #35
       */
      if (location.protocol != 'https:' && window.location.hostname == 'mooyyu.github.io')
        location.href = 'https:' + window.location.href.substring(window.location.protocol.length);

      /**
       * Improves overall speed by loading javascript and css resources in parallel
       * with the main page.
       */
      head.load(
          "/assets/stylesheets/font-awesome.min.css",

          "/assets/javascript/jquery-2.2.1.min.js",
          "/assets/javascript/jquery-ui.min.js",
          "/assets/javascript/bootstrap.min.js",
          "/assets/javascript/tocify.min.js",
          "/assets/javascript/custom.js",

          "/assets/javascript/sheetrock.min.js",
          "/assets/javascript/cookieconsent.min.js",
          "/assets/javascript/pop.min.js"
      );

      head.ready(function() {
        window.cookieconsent_options = {
          "message":"This site use cookies to ensure you get the best experience on the website",
          "dismiss": "Got it!", "learnMore": "More info", "link":"", "theme": "dark-bottom"
        };
        $("body").on('click', '[data-stopPropagation]', function (e) {
          e.stopPropagation();
        });
      });
    </script> </head> <body role="document"> <nav class="navbar navbar-default navbar-fixed-top custom-no-margin"> <div class="container"> <div class="navbar-header"> <a href="/" class="navbar-brand" style="color: slategrey;"> Mooyyu Crab.'s Blog </a> <img id="daynite" src="/assets/images/btn-night.svg" alt="Dark Mode" width="32" height="32"> <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <div class="navbar-collapse collapse" id="navbar-main"> <ul class="nav navbar-nav"> <li><a href="/whoami/">WHO AM I? </a></li> <li class="dropdown siteindex"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation">Site Index <span class="caret"></span></a> <ul class="dropdown-menu"> <li class="dropdown dropdown-submenu algorithm"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-stoppropagation="true" id="navbar-sub-algorithm">Algorithm</a> <ul class="dropdown-menu"> <li><a href="/meta/algorithm/"> All documents </a></li> <li class="divider"> <li><a href="/docs/algorithm/Math-1.html">ç®—æ³•ç«èµ›ç®€å•æ•°è®ºçŸ¥è¯†(ä¸€)</a></li> <li><a href="/docs/algorithm/DP-knapsack.html">åŠ¨æ€è§„åˆ’: èƒŒåŒ…é—®é¢˜ (ä¸€)</a></li> <li><a href="/docs/algorithm/Graph-shortest_path.html">å›¾è®ºæµ…è°ˆä¹‹æœ€çŸ­è·¯</a></li> <li><a href="/docs/algorithm/DP-linear.html">åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹</a></li> <li><a href="/docs/algorithm/DS-1.html">ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)</a></li> <li><a href="/docs/algorithm/Graph-segment_tree_scan.html">çº¿æ®µæ ‘ä¹‹æ‰«æçº¿æµ…è°ˆ</a></li> <li><a href="/docs/algorithm/basic.html">åŸºç¡€ç®—æ³•æ‚è°ˆ</a></li> </ul> </li> <li class="dropdown dropdown-submenu oicode"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-stoppropagation="true" id="navbar-sub-oicode">OI-code</a> <ul class="dropdown-menu"> <li><a href="/meta/oicode/"> All documents </a></li> <li class="divider"> <li><a href="/docs/oicode/B1.html"><strong>B1</strong>: å‰ç¼€å’Œä¸å·®åˆ†</a></li> <li><a href="/docs/oicode/B2.html"><strong>B2</strong>: å¿«é€Ÿç»„åˆ</a></li> <li><a href="/docs/oicode/B3.html"><strong>B3</strong>: äºŒåˆ†æŸ¥æ‰¾</a></li> <li><a href="/docs/oicode/B4-add.html"><strong>B4</strong>: é«˜ç²¾åº¦åŠ æ³•</a></li> <li><a href="/docs/oicode/B4-div.html"><strong>B4</strong>: é«˜ç²¾åº¦é™¤æ³•</a></li> <li><a href="/docs/oicode/B4-multi.html"><strong>B4</strong>: é«˜ç²¾åº¦ä¹˜æ³•</a></li> <li><a href="/docs/oicode/B4-sub.html"><strong>B4</strong>: é«˜ç²¾åº¦å‡æ³•</a></li> <li><a href="/docs/oicode/D1.html"><strong>D1</strong>: å•è°ƒæ ˆ</a></li> <li><a href="/docs/oicode/D2.html"><strong>D2</strong>: å•è°ƒé˜Ÿåˆ—</a></li> <li><a href="/docs/oicode/D3.html"><strong>D3</strong>: Spare Table</a></li> <li><a href="/docs/oicode/D4.html"><strong>D4</strong>: å­—å…¸æ ‘</a></li> <li><a href="/docs/oicode/D5.html"><strong>D5</strong>: å¹¶æŸ¥é›†</a></li> <li><a href="/docs/oicode/D6-rc.html"><strong>D6</strong>: æ ‘çŠ¶æ•°ç»„-é™å®šåŒºé—´è®¡æ•°</a></li> <li><a href="/docs/oicode/D6-surs.html"><strong>D6</strong>: æ ‘çŠ¶æ•°ç»„-å•ç‚¹æ›´æ–°åŒºé—´æ±‚å’Œ</a></li> <li><a href="/docs/oicode/D7-basic.html"><strong>D7</strong>: çº¿æ®µæ ‘-åŸºç¡€</a></li> <li><a href="/docs/oicode/G1.html"><strong>G1</strong>: äºŒåˆ†å›¾-åˆ¤å®š</a></li> <li><a href="/docs/oicode/G2.html"><strong>G2</strong>: äºŒåˆ†å›¾-æœ€å¤§åŒ¹é…</a></li> <li><a href="/docs/oicode/G3.html"><strong>G3</strong>: Astar kçŸ­è·¯ on matrix</a></li> <li><a href="/docs/oicode/G4.html"><strong>G4</strong>: æ‹“æ‰‘æ’åº</a></li> <li><a href="/docs/oicode/G5.html"><strong>G5</strong>: è¿é€šæ— ç¯æ— å‘å›¾çš„é‡å¿ƒ</a></li> <li><a href="/docs/oicode/G6.html"><strong>G6</strong>: MST-Kruskal</a></li> <li><a href="/docs/oicode/G7.html"><strong>G7</strong>: MST-Prim</a></li> <li><a href="/docs/oicode/G8.html"><strong>G8</strong>: ShortestPath-BellmanFord</a></li> <li><a href="/docs/oicode/G9.html"><strong>G9</strong>: ShortestPath-Dijkstra</a></li> <li><a href="/docs/oicode/G9-hopt.html"><strong>G9</strong>: ShortestPath-Dijkstra Heap OPT</a></li> <li><a href="/docs/oicode/G10.html"><strong>G10</strong>: ShortestPath-SPFA</a></li> <li><a href="/docs/oicode/G11.html"><strong>G11</strong>: ShortestPath-Floyd</a></li> <li><a href="/docs/oicode/M1.html"><strong>M1</strong>: å¿«é€Ÿå¹‚ä¸é¾Ÿé€Ÿä¹˜</a></li> <li><a href="/docs/oicode/M2.html"><strong>M2</strong>: æ¬§å‡ é‡Œå¾—-æœ€å¤§å…¬çº¦æ•°</a></li> <li><a href="/docs/oicode/M2-ft.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-ç¿¡èœ€å®šç†</a></li> <li><a href="/docs/oicode/M2-lce.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-çº¿æ€§åŒä½™æ–¹ç¨‹</a></li> <li><a href="/docs/oicode/M2-mi.html"><strong>M2</strong>: EXæ¬§å‡ é‡Œå¾—-ä¹˜æ³•é€†å…ƒ</a></li> <li><a href="/docs/oicode/M3-flt.html"><strong>M3</strong>: è´¹é©¬å°å®šç†-ä¹˜æ³•é€†å…ƒ</a></li> <li><a href="/docs/oicode/M4.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°</a></li> <li><a href="/docs/oicode/M4-euler.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-æ¬§æ‹‰å‡½æ•°</a></li> <li><a href="/docs/oicode/M4-prc.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-å¤šæ•°ä¹˜ç§¯çº¦æ•°è®¡æ•°</a></li> <li><a href="/docs/oicode/M4-prs.html"><strong>M4</strong>: åˆ†è§£è´¨å› æ•°-å¤šæ•°ä¹˜ç§¯çº¦æ•°æ±‚å’Œ</a></li> <li><a href="/docs/oicode/M5.html"><strong>M5</strong>: æ¬§æ‹‰ç­›</a></li> <li><a href="/docs/oicode/M5-ps.html"><strong>M5</strong>: æ¬§æ‹‰ç­›-è´¨æ•°ç­›</a></li> <li><a href="/docs/oicode/M6.html"><strong>M6</strong>: åŸƒæ°ç­›-è´¨æ•°ç­›</a></li> <li><a href="/docs/oicode/M7.html"><strong>M7</strong>: Steinç®—æ³•-æœ€å¤§å…¬çº¦æ•°</a></li> <li><a href="/docs/oicode/M8.html"><strong>M8</strong>: çŸ©é˜µä¹˜æ³•ä¸å¿«é€Ÿå¹‚</a></li> <li><a href="/docs/oicode/O1.html"><strong>O1</strong>: å¿«é€Ÿæ’åº</a></li> <li><a href="/docs/oicode/O2.html"><strong>O2</strong>: å¹¶å½’æ’åº</a></li> <li><a href="/docs/oicode/S1.html"><strong>S1</strong>: KMP</a></li> <li><a href="/docs/oicode/S2.html"><strong>S2</strong>: å­—ç¬¦ä¸²å“ˆå¸Œ</a></li> </ul> </li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-algorithm">ä¼ ç»Ÿç®—æ³• <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="/docs/algorithm/basic">åŸºç¡€ç®—æ³•æ‚è°ˆ</a></li> <li class="divider"> <li><a href="/docs/algorithm/DS-1">ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)</a></li> <li class="divider"> <li><a href="/docs/algorithm/DP-knapsack">åŠ¨æ€è§„åˆ’:èƒŒåŒ…é—®é¢˜(ä¸€)</a></li> <li><a href="/docs/algorithm/DP-linear">åŠ¨æ€è§„åˆ’å…¥é—¨ä¹‹çº¿æ€§æå€¼æ¨¡å‹</a></li> <li class="divider"> <li><a href="/docs/algorithm/Graph-shortest_path">å›¾è®ºæµ…è°ˆä¹‹æœ€çŸ­è·¯</a></li> <li><a href="/docs/algorithm/Graph-segment_tree_scan">çº¿æ®µæ ‘ä¹‹æ‰«æçº¿æµ…è°ˆ</a></li> <li class="divider"> <li><a href="/docs/algorithm/Math-1">ç®—æ³•ç«èµ›ç®€å•æ•°è®ºçŸ¥è¯†(ä¸€)</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-math">æ•°å­¦ç¬”è®° <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a>ğŸ¦‰å³å°†ä¸Šçº¿</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-ai">AIç¬”è®° <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a>ğŸ¦‰å³å°†ä¸Šçº¿</a></li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right visible-lg-block"> </ul> </div> </div> </nav> <div class="container" role="main"> <div class="row"> <div class="col-lg-3 col-md-4 visible-lg-block visible-md-block custom-no-padding"> <div class="custom-fixed-sidebar"> <div id="toc"></div> </div> </div> <div class="col-lg-9 col-md-8 custom-bg-white"> <div class="row"> <div class="col-md-12 custom-article"> <p class="text-right pull-right visible-lg-block hidden-print small custom-pt25"> <a href="//github.com/mooyyu" target="_blank" data-toggle="tooltip" data-placement="bottom" title="Visit mooyyu's profile on Github"><img class="avatar avatar-small" alt="mooyyu" width="30" height="30" data-proofer-ignore="true" src="https://avatars3.githubusercontent.com/mooyyu?v=3&s=30" srcset="https://avatars3.githubusercontent.com/mooyyu?v=3&s=30 1x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=60 2x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=90 3x, https://avatars3.githubusercontent.com/mooyyu?v=3&s=120 4x"></a> </p> <h1 class="custom-article-header">ç®—æ³•ç«èµ›ç®€å•æ•°æ®ç»“æ„(ä¸€)</h1> <p class="text-right pull-right small">30 March 2020</p> <p class="small"> æ•°æ®ç»“æ„ç³»åˆ—ä¸“é¢˜ä¸€ </p> <h2 id="æœ¬æ–‡ä¸»è¦å†…å®¹">æœ¬æ–‡ä¸»è¦å†…å®¹</h2> <ul> <li>åŸºç¡€æ•°æ®ç»“æ„ <ul> <li>é“¾å¼å‰å‘æ˜Ÿ</li> <li>å•è°ƒé˜Ÿåˆ—</li> <li>å•è°ƒæ ˆ</li> <li>ç»´æŠ¤æ’å…¥æ—¶é—´æˆ³çš„å †</li> </ul> </li> <li>é«˜çº§æ•°æ®ç»“æ„ <ul> <li>å¹¶æŸ¥é›†</li> <li>å­—å…¸æ ‘</li> <li>Spare Table</li> <li>æ ‘çŠ¶æ•°ç»„</li> <li>çº¿æ®µæ ‘</li> </ul> </li> </ul> <h2 id="åŸºç¡€æ•°æ®ç»“æ„">åŸºç¡€æ•°æ®ç»“æ„</h2> <p><strong>STL</strong>ä¸­å¯¹å„æ•°æ®ç»“æ„çš„æ”¯æŒè¿˜æ˜¯å¾ˆå¥½çš„ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨åŸºç¡€æ•°æ®ç»“æ„ä¸Šç»´æŠ¤ä¸€äº›é¢å¤–ä¿¡æ¯æˆ–è¿½æ±‚é€Ÿåº¦åˆ™éœ€è¦ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿå’Œç»´æŠ¤ã€‚</p> <h3 id="é“¾å¼å‰å‘æ˜Ÿ">é“¾å¼å‰å‘æ˜Ÿ</h3> <p>é“¾è¡¨çš„å®ç°æ–¹å¼ä¸€èˆ¬æœ‰ã€ŒSTLä¸­çš„listã€ã€ã€Œç»“æ„ä½“+æŒ‡é’ˆçš„åŠ¨æ€æ¨¡æ‹Ÿã€ã€ã€Œå‘é‡vectorã€å’Œã€Œé“¾å¼å‰å‘æ˜Ÿã€ã€‚è€Œå…¶ä¸­listéš¾ä»¥ç»´æŠ¤é¢å¤–æ•°æ®ï¼ŒåŠ¨æ€æ¨¡æ‹Ÿä¸å‘é‡å†…å­˜æ“ä½œæ¬¡æ•°è¿‡å¤šå¢åŠ è€—æ—¶ï¼Œè€Œé“¾å¼å‰å‘æ˜Ÿåˆ™å¾ˆå¥½çš„è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p> <p>å…ˆæ¥ç›´è§‚åœ°äº†è§£ä¸€ä¸‹é“¾å¼å‰å‘æ˜Ÿçš„å­˜å‚¨ï¼Œå‡è®¾ç°åœ¨ä»…å­˜å‚¨äº†ä¸¤æ¡é“¾\(a, b\)ï¼Œä¸”åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­åˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œæœ€ç»ˆ\(a, b\)å„æœ‰5ä¸ªå…ƒç´ ã€‚åˆ™æ•´ä½“ç»“æ„ç±»ä¼¼äºä¸‹å›¾ã€‚</p> <p><img src="/assets/images/algorithm/DS-1/link_astar.svg" alt="astar"></p> <p>å¯ä»¥å‘ç°é“¾å¼å‰å‘æ˜Ÿçš„ä¸€äº›é‡è¦ç‰¹å¾ï¼š</p> <ul> <li>ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå¤´ç»“ç‚¹æ•°ç»„å’Œå…ƒç´ æ•°ç»„ã€‚å¹¶ä¸”å¯¹äºæ¯ä¸€æ¡é“¾ï¼Œå¤´ç»“ç‚¹è¿æ¥æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li> <li> <p>è¢«åˆ é™¤çš„å…ƒç´ å…¶å ç”¨çš„å†…å­˜ä¸è¢«é‡Šæ”¾ã€‚</p> </li> <li>è¿™æ ·å­˜å‚¨ç»“æ„æœ¬èº«å°±ç»´æŠ¤äº†ä¸€ä¸ªé¢å¤–ä¿¡æ¯ï¼šæŸä¸ªå…ƒç´ (åŒ…æ‹¬å·²è¢«åˆ é™¤çš„)åœ¨æ•´ä½“æ“ä½œè¿‡ç¨‹ä¸­æ˜¯ç¬¬å‡ ä¸ªè¢«æ’å…¥çš„ã€‚</li> </ul> <p>ä¸‹é¢ç»™å‡ºå…·ä½“å®ç°</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span><span class="o">&lt;</span> <span class="k">class</span> <span class="nc">type</span> <span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">starlist</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="k">struct</span> <span class="p">{</span> <span class="n">type</span> <span class="n">val</span><span class="p">;</span> <span class="kt">int</span> <span class="n">ptr</span><span class="p">;</span> <span class="p">}</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="kt">int</span> <span class="n">pos</span><span class="p">,</span> <span class="n">type</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ar</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">val</span><span class="p">,</span> <span class="n">ar</span><span class="p">[</span><span class="n">pos</span><span class="p">].</span><span class="n">ptr</span><span class="p">};</span>
		<span class="n">ar</span><span class="p">[</span><span class="n">pos</span><span class="p">].</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">idx</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="kt">void</span> <span class="n">erase</span><span class="p">(</span><span class="kt">int</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ar</span><span class="p">[</span><span class="n">pos</span><span class="p">].</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ar</span><span class="p">[</span><span class="n">ar</span><span class="p">[</span><span class="n">pos</span><span class="p">].</span><span class="n">ptr</span><span class="p">].</span><span class="n">ptr</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <h3 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</h3> <p>å•è°ƒé˜Ÿåˆ—æ¯”è¾ƒå¤æ‚ï¼Œä½†å¾ˆé‡è¦ï¼Œå¾ˆå¤šé—®é¢˜çš„ä¼˜åŒ–éœ€è¦ç”¨åˆ°ã€‚<strong>ä¸æ™®é€šé˜Ÿåˆ—ä¸åŒçš„æ˜¯ï¼Œå•è°ƒé˜Ÿåˆ—å¹¶ä¸ç›´æ¥ç»´æŠ¤å…ƒç´ æœ¬èº«ï¼Œè€Œæ˜¯æŠŠå…ƒç´ å­˜å‚¨åœ¨å›ºå®šçš„åºåˆ—ä¸­ï¼Œå•è°ƒé˜Ÿåˆ—ç»´æŠ¤å…¶ä¸‹æ ‡â€”â€”å› ä¸ºå…¥é˜Ÿçš„å…ƒç´ æ•°é‡ä¸å•è°ƒé˜Ÿåˆ—ä¸­å®é™…å…ƒç´ æ•°é‡ä¸ä¸€å®šç›¸ç­‰ã€‚</strong></p> <p>å•è°ƒé˜Ÿåˆ—åœ¨æ’å…¥å…ƒç´ æ—¶é€šè¿‡æ’å‡ºå°¾éƒ¨ã€Œä¸æ»¡è¶³å•è°ƒæ€§è´¨çš„å…ƒç´ ã€æ¥ä¿è¯å•è°ƒã€‚ä¸‹é¢ä»¥ä¸¥æ ¼å•è°ƒé€’å¢ç¤ºä¾‹æ’å…¥æ“ä½œã€‚</p> <p><img src="/assets/images/algorithm/DS-1/monoque.svg" alt="monoque"></p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//	ç”¨valè¿™ä¸ªæ•°ç»„è¡¨ç¤ºå›ºæœ‰åºåˆ—</span>
<span class="k">template</span><span class="o">&lt;</span> <span class="k">class</span> <span class="nc">Comp</span> <span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">monoque</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">Comp</span> <span class="n">cmp</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="kt">int</span> <span class="n">front</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">ar</span><span class="p">[</span><span class="n">head</span><span class="p">];</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">back</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">ar</span><span class="p">[</span><span class="n">end</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="p">}</span>
	<span class="kt">void</span> <span class="n">pop</span><span class="p">()</span> <span class="p">{</span> <span class="o">++</span><span class="n">head</span><span class="p">;</span> <span class="p">}</span>
	<span class="kt">bool</span> <span class="n">empty</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">head</span> <span class="o">==</span> <span class="n">end</span><span class="p">;</span> <span class="p">}</span>
	<span class="kt">int</span> <span class="n">len</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="n">front</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>	<span class="c1">// è¿”å›å…¥é˜Ÿå…ƒç´ æ•°é‡</span>
	<span class="kt">int</span> <span class="n">push</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>	<span class="c1">// æ’å…¥åœ¨å›ºæœ‰åºåˆ—ä¸­çš„ä¸‹æ ‡</span>
		<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">cmp</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="n">back</span><span class="p">()],</span> <span class="n">val</span><span class="p">[</span><span class="n">x</span><span class="p">]))</span> <span class="o">--</span><span class="n">end</span><span class="p">;</span>
		<span class="n">ar</span><span class="p">[</span><span class="n">end</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="n">front</span><span class="p">()];</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <h3 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h3> <p>å•è°ƒæ ˆæ¯”è¾ƒå¥½ç†è§£ï¼Œå®ç°èµ·æ¥ä¹Ÿå¾ˆç›´è§‚ã€‚ä¸‹é¢æ˜¯å•è°ƒæ ˆçš„ç®€å•å®ç°ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span><span class="o">&lt;</span> <span class="k">class</span> <span class="nc">type</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Comp</span> <span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">monostack</span> <span class="p">{</span>
	<span class="n">type</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">Comp</span> <span class="n">cmp</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="n">type</span> <span class="n">push</span><span class="p">(</span><span class="n">type</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">cmp</span><span class="p">(</span><span class="n">top</span><span class="p">(),</span> <span class="n">x</span><span class="p">))</span> <span class="n">pop</span><span class="p">();</span>
		<span class="n">ar</span><span class="p">[</span><span class="o">++</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">return</span> <span class="n">pos</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ar</span><span class="p">[</span><span class="n">pos</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="kt">bool</span> <span class="n">empty</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="o">!</span><span class="n">pos</span><span class="p">;</span> <span class="p">}</span>
	<span class="n">type</span> <span class="n">top</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">ar</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span> <span class="p">}</span>
	<span class="kt">void</span> <span class="n">pop</span><span class="p">()</span> <span class="p">{</span> <span class="o">--</span><span class="n">pos</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <h3 id="ç»´æŠ¤æ’å…¥æ—¶é—´æˆ³çš„å †">ç»´æŠ¤æ’å…¥æ—¶é—´æˆ³çš„å †</h3> <p><strong>STL</strong>å¯¹å †å¾—æ”¯æŒæ¯”è¾ƒå…¨ï¼Œæ¯”å¦‚ç®—æ³•åº“ä¸­çš„<em>make_heap, sort_heap, is_heap, push_heap, pop_heap, is_heap_untill</em>ã€‚ç”šè‡³å¯ä»¥ç›´æ¥ä½¿ç”¨<em>priority_queue</em>ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç»´æŠ¤ï¼šæˆ‘ä»¬å¸Œæœ›å¯¹ã€Œç¬¬kä¸ªæ’å…¥å †çš„å…ƒç´ ã€åšåˆ é™¤ã€ä¿®æ”¹æ“ä½œã€‚</p> <p>ä¸‹é¢çš„æè¿°ä¸­ä½¿ç”¨\(ar\)è¡¨ç¤ºå †ï¼Œ\(k, pos\)åˆ†åˆ«è¡¨ç¤ºæ—¶é—´æˆ³ã€ç´¢å¼•ï¼Œ\(idx\)è¡¨ç¤ºå †å¾—æœ€å¤§ç´¢å¼•åŠ 1ï¼Œ\(cnt\)è¡¨ç¤ºæœ€å¤§æ—¶é—´æˆ³åŠ 1ã€‚</p> <h4 id="å †ç´¢å¼•-äºŒå‰å †çš„å­˜å‚¨æ–¹å¼">å †ç´¢å¼•-äºŒå‰å †çš„å­˜å‚¨æ–¹å¼</h4> <p>å¯¹äºä¸€ä¸ªæ™®é€šçš„å †ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨äºŒå‰æ ‘çš„å½¢å¼ï¼Œå…¶ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„åŸå› å°±åœ¨äºæ˜“äºå­˜å‚¨å’Œç´¢å¼•ã€‚</p> <ul> <li>æ ¹ç¼–å·ä¸º\(1\)</li> <li>å¯¹äºç¼–å·ä¸º\(x\)çš„ç»“ç‚¹\(\begin{cases} çˆ¶äº²èŠ‚ç‚¹ç¼–å·ï¼š\lfloor x/2\rfloor,&amp;x\gg 1u\\ å·¦å­èŠ‚ç‚¹ç¼–å·ï¼š2x,&amp;x\ll 1u\\å³å­èŠ‚ç‚¹ç¼–å·ï¼š2x + 1,&amp;x\ll 1u\mid 1u \end{cases}\)</li> </ul> <h4 id="ç´¢å¼•ä¸æ—¶é—´æˆ³çš„åŒå‘æ˜ å°„">ç´¢å¼•ä¸æ—¶é—´æˆ³çš„åŒå‘æ˜ å°„</h4> <p>ä¸ºä»€ä¹ˆéœ€è¦åŒå‘æ˜ å°„å‘¢ï¼Ÿ</p> <ul> <li>ä¸€ä¸ªå…ƒç´ ä½¿ç”¨æ—¶é—´æˆ³æè¿°ï¼Œè€Œæ“ä½œéœ€è¦è½å®åˆ°å…·ä½“ç´¢å¼•ä½ç½®ï¼Œæ•…éœ€è¦æ—¶é—´æˆ³å‘ç´¢å¼•çš„æ˜ å°„ï¼Œè®°åš\(ktp\)ã€‚</li> <li>å †å†…è°ƒæ•´æ—¶å…¶çˆ¶å­å…³ç³»æ˜¯ä»…ç”±ç´¢å¼•çš„å€¼æ‰€ç¡®å®šçš„ï¼Œæ•…éœ€è¦ç´¢å¼•å‘æ—¶é—´æˆ³çš„æ˜ å°„ï¼Œè®°åš\(ptk\)ã€‚</li> </ul> <h4 id="å †å†…è°ƒæ•´">å †å†…è°ƒæ•´</h4> <h5 id="å…ƒç´ äº¤æ¢å€¼ä¸æ˜ å°„çš„äº¤æ¢">å…ƒç´ äº¤æ¢â€”â€”å€¼ä¸æ˜ å°„çš„äº¤æ¢</h5> \[\begin{aligned} apkswap&amp;(apos,\ bpos)\\ &amp;swap(ar(apos), ar(bpos))\\ &amp;swap(ktp(ptk(apos)), ktp(ptk(bpos)))\\ &amp;swap(ptk(apos), ptk(bpos)) \end{aligned}\] <h5 id="ä¸Šä¸‹è°ƒæ•´">ä¸Šä¸‹è°ƒæ•´</h5> \[\begin{array}{c|c}\hline \begin{aligned} up&amp;(pos)\\ &amp;fa = pos\gg 1u\\ &amp;\begin{aligned} if\quad&amp;fa &gt; 0 \mbox{ &amp;&amp; } cmp(ar(fa), ar(pos))\\ &amp;apkswap(fa, pos)\\ &amp;up(fa) \end{aligned} \end{aligned} &amp; \begin{aligned} down&amp;(pos)\\ &amp;l = pos\ll 1u,\ r = pos\ll 1u\mid 1u\\ &amp;ptr = pos\\ &amp;\begin{aligned} if\quad&amp;l &lt; idx\mbox{ &amp;&amp; }cmp(ar(ptr), ar(l))\\ &amp;ptr = l\\ if\quad&amp;r &lt; idx\mbox{ &amp;&amp; }cmp(ar(ptr), ar(r))\\ &amp;ptr = r\\ if\quad&amp;pos\not = ptr\\ &amp;apkswap(pos, ptr)\\ &amp;down(ptr) \end{aligned} \end{aligned} \\ \hline\end{array}\\\] <h5 id="ä¿®æ”¹å…ƒç´ ">ä¿®æ”¹å…ƒç´ </h5> <p>å½“å †å†…å…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–åï¼Œæœ‰å¯èƒ½å…¶ä¸Šä¸‹å…³ç³»ä¸éœ€è¦è°ƒæ•´ï¼Œä¹Ÿå¯èƒ½æ˜¯å‘ä¸Šè°ƒæ•´æˆ–å‘ä¸‹è°ƒæ•´ä¸­çš„ä¸€ä¸ªï¼Œåœ¨å…·ä½“æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šä¸‹è°ƒæ•´éƒ½è°ƒç”¨ä¸€éï¼Œç”±äºå„è°ƒæ•´ä¼šåšå…³ç³»åˆ¤æ–­ï¼Œæ‰€ä»¥åªä¼šæ‰§è¡Œæ­£ç¡®çš„è°ƒæ•´æ–¹å‘ã€‚ä¸‹é¢ä»¥èµ‹å€¼ä¿®æ”¹ä¸ºä¾‹ã€‚</p> \[\begin{aligned} modify&amp;(k,\ x)\\ &amp;ar(ktp(k)) = x\\ &amp;up(ktp(k)),\ down(ktp(k)) \end{aligned}\] <h5 id="æ’å…¥ä¸åˆ é™¤æ“ä½œå‘ä¿®æ”¹è½¬åŒ–">æ’å…¥ä¸åˆ é™¤æ“ä½œå‘ä¿®æ”¹è½¬åŒ–</h5> <ul> <li>
<strong>æ’å…¥</strong>:ã€Œå †å…ˆæ‰©å¤§ä¸€ä¸ªå…ƒç´ çš„å®¹é‡ï¼ˆç´¢å¼•+1ï¼‰ï¼Œå†å°†è¯¥å…ƒç´ çš„å€¼ä¿®æ”¹ä¸ºæ’å…¥å€¼ï¼Œæœ€åè°ƒæ•´ã€ã€‚</li> </ul> \[\begin{aligned} push&amp;(x)\\ &amp;ar(idx) = x,\ ptk(idx) = cnt,\ ktp(cnt) = idx\\ &amp;up(idx)\\ &amp;cnt = cnt + 1,\ idx = idx + 1 \end{aligned}\] <ul> <li>
<strong>åˆ é™¤</strong>:ã€Œå…ˆå°†å¾…åˆ é™¤å…ƒç´ çš„å€¼ä¿®æ”¹ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå†å°†å †ç¼©å°ä¸€ä¸ªå…ƒç´ çš„å®¹é‡ï¼ˆç´¢å¼•-1ï¼‰ï¼Œæœ€åè°ƒæ•´ã€ã€‚</li> </ul> \[\begin{aligned} erase&amp;(k)\\ &amp;pos = ktp(k)\\ &amp;apkswap(pos, idx - 1)\\ &amp;idx = idx - 1\\ &amp;up(pos),\ down(pos) \end{aligned}\] <p>è‡³æ­¤ï¼Œä¾¿å¯ä»¥å†™å‡ºä¸€ä¸ªå®Œæ•´çš„ç»´æŠ¤æ—¶é—´æˆ³çš„å †äº†ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span><span class="o">&lt;</span> <span class="k">class</span> <span class="nc">type</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Comp</span> <span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">starheap</span> <span class="p">{</span>
	<span class="n">type</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">ktp</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">ptk</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">Comp</span> <span class="n">cmp</span><span class="p">;</span>
	<span class="kr">inline</span> <span class="kt">void</span> <span class="n">apkswap</span><span class="p">(</span><span class="kt">int</span> <span class="n">apos</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bpos</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">up</span><span class="p">(</span><span class="kt">int</span> <span class="n">pos</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">down</span><span class="p">(</span><span class="kt">int</span> <span class="n">pos</span><span class="p">);</span>
<span class="nl">public:</span>
	<span class="n">type</span> <span class="n">top</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">ar</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">}</span>
	<span class="kt">void</span> <span class="n">pop</span><span class="p">()</span> <span class="p">{</span> <span class="n">erase</span><span class="p">(</span><span class="n">ptk</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="n">push</span><span class="p">(</span><span class="n">type</span> <span class="n">x</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">erase</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">modify</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="n">type</span> <span class="n">x</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div> <h2 id="é«˜çº§æ•°æ®ç»“æ„">é«˜çº§æ•°æ®ç»“æ„</h2> <p>ã€Œé«˜çº§ã€æ›´å‡†ç¡®æ¥è¯´åº”è¯¥æ˜¯éœ€ç»“åˆå…·ä½“å®é™…æ¥ç¡®å®šå…¶å½¢å¼çš„æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬éƒ½æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç»´æŠ¤çš„ã€‚ä¸‹é¢ä»‹ç»ä¸€äº›æ¯”è¾ƒå¸¸è§çš„ã€åº”ç”¨è¾ƒå¹¿æ³›çš„æ•°æ®ç»“æ„ã€‚</p> <p>è¿™äº›é«˜çº§æ•°æ®ç»“æ„çš„åº”ç”¨ååˆ†å¹¿æ³›ï¼Œé™äºèƒ½åŠ›ä¸è¶³ï¼Œæœ¬æ–‡ä»…åˆ—ä¸¾å„æ•°æ®ç»“æ„æœ€ä¸ºåŸºç¡€çš„ä½¿ç”¨ã€‚</p> <h3 id="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†</h3> <p>å¹¶æŸ¥é›†æ˜¯æ ‘å½¢ç»“æ„ï¼Œå¹¶æŸ¥é›†å†…å­˜å‚¨å„èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹åœ¨å¹¶æŸ¥é›†å†…çš„ç´¢å¼•ï¼Œç‰¹æ®Šçš„ï¼Œæ¯ä¸ªé›†åˆçš„æ ¹å…ƒç´ å­˜å‚¨è‡ªå·±çš„ç´¢å¼•ã€‚</p> <p>å¹¶æŸ¥é›†é™¤äº†å­˜å‚¨å¿…è¦çš„<strong>ç´¢å¼•(ar)</strong>ï¼Œé€šå¸¸è¿˜ä¼šé¢å¤–ç»´æŠ¤<strong>é›†åˆçš„å¤§å°(cnt)(ä»…å¯¹æ ¹å…ƒç´ æœ‰æ„ä¹‰)</strong>ã€<strong>å…ƒç´ åœ¨é›†åˆæ ‘ä¸­çš„æ·±åº¦(dis)</strong>ï¼Œä¸‹é¢ä¸€èµ·è®¨è®ºã€‚</p> <p>å¹¶æŸ¥é›†çš„æ ¸å¿ƒæ“ä½œæ˜¯ã€ŒæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆã€å’Œã€Œå°†ä¸€ä¸ªé›†åˆå¹¶å…¥å¦ä¸€ä¸ªé›†åˆã€ï¼Œå®ç°æ–¹å¼åˆ†åˆ«æ˜¯ã€Œåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹å…ƒç´ æ˜¯å¦æ˜¯åŒä¸€ä¸ªã€å’Œã€Œå°†ä¸€ä¸ªé›†åˆçš„æ ¹å…ƒç´ ä½œä¸ºå¦ä¸€ä¸ªé›†åˆæ ¹å…ƒç´ çš„å­èŠ‚ç‚¹ã€ã€‚</p> <p>æ˜¾ç„¶ï¼Œå¦‚ä½•å¿«é€Ÿçš„æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹å…ƒç´ æ˜¯æœ€ä¸ºæ ¸å¿ƒçš„æ“ä½œã€‚</p> <h4 id="æŸ¥è¯¢æ ¹å…ƒç´ ä¸è·¯å¾„å‹ç¼©">æŸ¥è¯¢æ ¹å…ƒç´ ä¸è·¯å¾„å‹ç¼©</h4> <p><img src="/assets/images/algorithm/DS-1/merge_find_set_path_compressed.svg" alt="å¹¶æŸ¥é›†è·¯å¾„å‹ç¼©"></p> <p>å¦‚å›¾ï¼Œè·¯å¾„å‹ç¼©çš„æ ¸å¿ƒå°±åœ¨äºå¦‚æœå·²çŸ¥ä¸€ä¸ªèŠ‚ç‚¹æ‰€åœ¨é›†åˆçš„æ ¹å…ƒç´ ï¼Œåˆ™å°†æ ¹å…ƒç´ ç›´æ¥è®¾ä¸ºçˆ¶äº²èŠ‚ç‚¹ã€‚å½“æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹å…ƒç´ æ—¶ï¼Œé‚£ä¹ˆæŸ¥è¯¢ç»“æŸæ—¶è¯¥å…ƒç´ ä»¥åŠå…¶æ‰€æœ‰çš„ç¥–å…ˆéƒ½å¯ä»¥è¢«ã€Œè·¯å¾„å‹ç¼©ã€ã€‚</p> \[\begin{array}{c|c}\hline æ™®é€šæƒ…å†µ &amp; éœ€è¦ç»´æŠ¤å…ƒç´ åœ¨é›†åˆæ ‘ä¸­çš„æ·±åº¦ \\\hline \begin{aligned} dsu&amp;(x)\\ &amp;\begin{aligned} if\quad&amp;ar(x)\not = x\\ &amp;ar(x) = dsu(ar(x))\\ \end{aligned}\\ &amp;return\quad ar(x) \end{aligned} &amp; \begin{aligned} dsu&amp;(x)\\ &amp;\begin{aligned} if\quad&amp;ar(x)\not = x\\ &amp;fa = dsu(ar(x))\\ &amp;dis(x) = dis(x) + dis(ar(x))\\ &amp;ar(x) = fa \end{aligned}\\ &amp;return\quad ar(x) \end{aligned}\\ \hline\end{array}\\\] <h4 id="é›†åˆåˆå¹¶">é›†åˆåˆå¹¶</h4> <p>ä¸‹é¢ç¤ºä¾‹å°†ç´¢å¼•ä¸º\(y\)çš„å…ƒç´ æ‰€åœ¨é›†åˆå¹¶å…¥ç´¢å¼•ä¸º\(x\)çš„å…ƒç´ æ‰€åœ¨é›†åˆ \(\def\judge{\begin{aligned} if\quad&amp;dsu(x) == dsu(y)\\ &amp;return \end{aligned}} \begin{array}{c|c|c}\hline æ™®é€šæƒ…å†µ &amp; éœ€è¦ç»´æŠ¤é›†åˆå¤§å° &amp; éœ€è¦ç»´æŠ¤å…ƒç´ åœ¨é›†åˆæ ‘ä¸­çš„æ·±åº¦ \\\hline \begin{aligned} merge&amp;(x, y)\\ &amp;ar(y) = dsu(x) \end{aligned} &amp; \begin{aligned} merge&amp;(x, y)\\ &amp;\judge\\ &amp;cnt(dsu(x))\ +\!\!= cnt(dsu(y))\\ &amp;ar(y) = dsu(x) \end{aligned} &amp; \begin{aligned} merge&amp;(x, y, k)\\ &amp;\judge\\ &amp;fay = dsu(y)\\ &amp;dis(fay) = k\\ &amp;ar(fay) = dsu(x) \end{aligned}\\ \hline\end{array}\\\)</p> <p><em>kçš„å«ä¹‰æ˜¯å°†ç´¢å¼•ä¸ºyçš„å…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹å…ƒç´ æ¥åˆ°ç´¢å¼•ä¸ºxçš„å…ƒç´ æ‰€åœ¨é›†åˆçš„ç¬¬kå±‚ã€‚</em></p> <p>æœ‰ä¸¤ä¸ªåœ°æ–¹å€¼å¾—å…³æ³¨ï¼š</p> <ul> <li>å½“æˆ‘ä»¬ä¸éœ€è¦ç»´æŠ¤å…¶ä»–ä¿¡æ¯æ—¶ï¼Œåˆå¹¶é›†åˆå‰ä¸è®¸è¦åˆ¤æ–­æ‰€æ“ä½œçš„ä¸¤ä¸ªé›†åˆæ˜¯å¦æ˜¯åŒä¸€ä¸ªï¼Œå› ä¸ºå¯¹é›†åˆæœ¬èº«æ²¡æœ‰å½±å“ã€‚è€Œå½“æˆ‘ä»¬éœ€è¦ç»´æŠ¤å…¶ä»–ä¿¡æ¯æ—¶ï¼Œä¸€èˆ¬æ˜¯éœ€è¦åˆ¤æ–­çš„ã€‚</li> <li>å½“æˆ‘ä»¬ç»´æŠ¤å…ƒç´ åœ¨é›†åˆä¸­çš„æ·±åº¦æ—¶ï¼Œéœ€è¦\(fay\)è¿™æ ·ä¸€ä¸ªå˜é‡ä»¥é¿å…åœ¨ã€Œèµ‹å€¼æ·±åº¦ä¹‹åã€åˆ°ã€Œåˆå¹¶é›†åˆä¹‹å‰ã€æ‰§è¡Œ \(dsu(y)\)ï¼Œå› ä¸º\(dsu(y)\)çš„æ“ä½œä¸­ä¼šæ›´æ–°æ·±åº¦ï¼Œå¼•èµ·é”™è¯¯ã€‚</li> </ul> <h4 id="ç‰¹åˆ«è¡¥å……æŸ¥è¯¢æ·±åº¦">ç‰¹åˆ«è¡¥å……â€”â€”æŸ¥è¯¢æ·±åº¦</h4> <p>æŸ¥è¯¢æ·±åº¦æ—¶ä¸èƒ½ç›´æ¥è¿”å›\(dis(x)\)ï¼Œè€Œæ˜¯è¦å…ˆæ‰§è¡Œ\(dsu(x)\)å†è¿”å›ï¼Œä»¥ç¡®ä¿æ·±åº¦è¢«æ›´æ–°ã€‚</p> <h3 id="å­—å…¸æ ‘">å­—å…¸æ ‘</h3> <p>å­—å…¸æ ‘çš„æ€æƒ³å¾ˆç›´è§‚æ˜“æ‡‚ï¼Œä½†è¿ç”¨æ—¶æ ¹æ®å…·ä½“é¢˜ç›®çš„ä¸åŒåˆ™ååˆ†çµæ´»ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€å½¢å¼çš„æ¨¡æ¿ã€‚è¿™é‡Œä»¥ä¸¤ä¸ªæœ€ç»å…¸çš„åº”ç”¨ä¸ºä¾‹ï¼šã€Œå­—ç¬¦ä¸²è®¡æ•°ã€å’Œã€Œæœ€å¤§æŠ‘æˆ–å¯¹ã€ã€‚</p> <h4 id="å­—ç¬¦ä¸²è®¡æ•°">å­—ç¬¦ä¸²è®¡æ•°</h4> <p>ä»¥è®¨è®ºä»…ä»¥å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ä¸ºä¾‹ã€‚</p> <p><img src="/assets/images/algorithm/DS-1/dic_tree_count_string.svg" alt="å­—å…¸æ ‘-å­—ç¬¦ä¸²è®¡æ•°"></p> <p>å¯ä»¥æ³¨æ„åˆ°è¿™ä¸ªå­—ç¬¦ä¸²è®¡æ•°å­—å…¸æ ‘æœ‰å‡ ä¸ªç‰¹å¾ï¼š</p> <ul> <li>ä»¥å­—ç¬¦ä¸ºç´¢å¼•ï¼Œå­˜å‚¨è®¡æ•°ã€‚ï¼ˆ<strong>å®é™…ç¼–ç æ—¶å€Ÿç”¨é“¾å¼å‰å‘æ˜Ÿçš„æ€æƒ³ã€‚</strong>ï¼‰</li> <li>å¶èŠ‚ç‚¹çš„è®¡æ•°ä¸€å®šå¤§äº0ã€‚</li> </ul> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">trietree</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">26</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">cnt</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">query</span><span class="p">(</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div> <p><strong>å­—å…¸æ ‘çš„æ’å…¥æ“ä½œå’ŒæŸ¥è¯¢æ“ä½œå…¶å®æ˜¯åŒæ„çš„ï¼š</strong></p> \[\begin{array}{c|c}\hline \begin{aligned} insert&amp;(s)\\ &amp;cur = 0\\ &amp;\begin{aligned} loop\quad&amp;c\ in\ s\\ &amp;c = c -\ '\!a'\\ &amp;\begin{aligned} if\quad&amp;ar(cur, c) == 0\\ &amp;ar(cur, c) = idx+\!\!+\\ \end{aligned}\\ &amp;cur = ar(cur, c) \end{aligned}\\ &amp;cnt(cur) = cnt(cur) + 1 \end{aligned} &amp;\begin{aligned} query&amp;(s)\\ &amp;cur = 0\\ &amp;\begin{aligned} loop\quad&amp;c\ in\ s\\ &amp;c = c -\ '\!a'\\ &amp;\begin{aligned} if\quad&amp;ar(cur, c) == 0\\ &amp;return\quad 0 \end{aligned}\\ &amp;cur = ar(cur, c) \end{aligned}\\ &amp;return\quad cnt(cur) \end{aligned}\\ \hline\end{array}\] <h4 id="æœ€å¤§å¼‚æˆ–å¯¹">æœ€å¤§å¼‚æˆ–å¯¹</h4> <p>æœ€å¤§æŠ‘æˆ–å¯¹æ˜¯æŒ‡è¿™æ ·çš„é—®é¢˜ï¼šåœ¨ç»™å®šä¸€äº›è‡ªç„¶æ•°ä¸­é€‰å–ä¸€ä¸ªä¸ç»™å®šçš„å¾…é…å¯¹è‡ªç„¶æ•°è¿›è¡ŒæŠ‘æˆ–æ“ä½œï¼Œæ±‚æœ€å¤§ç»“æœã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè¦ä½¿ä¸¤ä¸ªæ•°çš„æŠ‘æˆ–ç»“æœå¤§ï¼Œå°±è¦æ‰¾åˆ°ä¸¤ä¸ªæ•°åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹<strong>å°½é‡é«˜ä½ä¸åŒã€å°½é‡å¤šä½ä¸åŒ</strong>ã€‚é‚£æˆ‘ä»¬æ ¹æ®å„è‡ªç„¶æ•°åœ¨äºŒè¿›åˆ¶ä¸‹å„ä½å–å€¼ä¸åŒè¾¹èƒ½æ„é€ ä¸€é¢—å­—å…¸æ ‘æ¥è§£å†³é—®é¢˜ã€‚</p> <p>å®¹æ˜“å‘ç°è¿™æ ·çš„å­—å…¸æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š</p> <ul> <li>æ‰€æœ‰å¶èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼Œä»£è¡¨å„æ•°å€¼ã€‚</li> <li>æ— éœ€é¢å¤–å­˜å‚¨è®¡æ•°ï¼Œå¶èŠ‚ç‚¹çš„è®¡æ•°ä¸€å®šå¤§äº0ï¼Œéå¶ç»“ç‚¹çš„è®¡æ•°ä¸€å®šç­‰äº0ã€‚</li> </ul> <p>ä¸‹é¢ä»¥\(int\)èŒƒå›´å†…çš„è‡ªç„¶æ•°ï¼ˆå°äº\(2^{31}\)ï¼‰ä¸ºä¾‹ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">trietree</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">ar</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="p">{};</span>
	<span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">query</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div> \[\begin{array}{c|c}\hline \begin{aligned} insert&amp;(x)\\ &amp;\begin{aligned} loop\quad&amp;i\ from\ 30\ to\ 0\\ &amp;u = (x\gg i)\mbox{ &amp; }1u\\ &amp;\begin{aligned} if\quad&amp;ar(cur, u) == 0\\ &amp;ar(cur, u) = idx+\!\!+\\ \end{aligned}\\ &amp;cur = ar(cur, u) \end{aligned} \end{aligned} &amp;\begin{aligned} query&amp;(x)\\ &amp;ret = 0\\ &amp;cur = 0\\ &amp;\begin{aligned} loop\quad&amp;i\ from\ 30\ to\ 0\\ &amp;u = 1 - ((x\gg i)\mbox{ &amp; }1u)\\ &amp;\begin{aligned} if\quad&amp;ar(cur, u) \not= 0\\ &amp;cur = ar(cur, u)\\ &amp;ret = ret\mid(1u\ll i)\\ else\ &amp;\\ &amp;cur = ar(cur, 1 - u) \end{aligned} \end{aligned}\\ &amp;return\quad ret \end{aligned}\\ \hline\end{array}\] <h3 id="spare-table">Spare Table</h3> <p>Spare Tableå¯ä»¥ç”¨äºè§£å†³ã€Œå…·æœ‰ç»“åˆå¾‹çš„å¯é‡å¤è´¡çŒ®è¿ç®—é—®é¢˜ã€çš„æ•°æ®ç»“æ„ã€‚å…¶ä¸­ï¼Œå¯¹äºäºŒå…ƒè¿ç®—\(op\)ï¼š</p> <blockquote> <p>ç»“åˆå¾‹ï¼š\(op(op(a, b), c) = op(a, op(b, c))\)</p> <p>å¯é‡å¤è´¡çŒ®ï¼š\(op(x, x) = x\)</p> </blockquote> <p>æ¯”å¦‚ã€ŒåŒºé—´æŒ‰ä½ä¸ã€ã€ã€ŒåŒºé—´æŒ‰ä½æˆ–ã€ã€ã€ŒåŒºé—´æå€¼é—®é¢˜ï¼ˆ\(RMQ\)ï¼‰ã€å’Œã€ŒåŒºé—´æœ€å¤§å…¬çº¦æ•°é—®é¢˜ï¼ˆ\(RGCD\)ï¼‰ã€ç­‰å…·æœ‰ä»¥ä¸Šæ€§è´¨çš„é—®é¢˜å°±å¯ä»¥ä½¿ç”¨STè¡¨æ±‚è§£ã€‚</p> <p>STè¡¨åŸºäºå€å¢çš„æ€æƒ³ï¼Œæ˜¯ä¸€ç§<strong>ç¦»çº¿</strong>ç®—æ³•ã€‚</p> <h4 id="ä¸€ç»´stè¡¨">ä¸€ç»´STè¡¨</h4> \[\def\lrl{\lambda} \begin{aligned} DIF&amp;\\ &amp;ask(l, r)\text{ express the op result of interval }[l, r)\\ &amp;f(i, k) = ask(i, i + 2^k)\\ REQ&amp;\\ &amp;ask(l, r)\\ STTR&amp;\\ &amp;\because\quad[i, i + 2^k) = [i, i + 2^{k - 1}) + [i + 2^{k - 1}, i + 2^k)\\ &amp;\hphantom{\because\quad[i, i + 2^k) =\ }[i, i + 2^{k - 1}) + [i + 2^{k - 1}, i + 2^{k - 1} + 2^{k - 1})\\ &amp;\therefore\quad f(i, k) = op(f(i, k - 1), f(i + 2^{k - 1}, k - 1))\\ &amp;\therefore\quad let\quad\lambda = \lfloor \log_2{(r - l)} \rfloor \\ &amp;\hphantom{\therefore\quad\ }\begin{aligned} ask(l, r) &amp;= op(ask(l, l + 2^{\lrl}), ask(r - 2^{\lrl}, r))\\ &amp;= op(ask(l, l + 2^{\lrl}), ask(r - 2^{\lrl}, r - 2^{\lrl} + 2^{\lrl}))\\ &amp;= op(f(l, \lrl), f(r - 2^{\lrl}, \lrl)) \end{aligned}\\ &amp;\hphantom{\therefore\quad\ }\natural\quad specially,\ f(i, 0) = ar(i)\\ OPT&amp;\\ &amp;\natural\quad preprocessing\ the\ array\ of\ \lfloor \log_2{(r - l)} \rfloor\\ &amp;\hphantom{\natural\quad}\lfloor\log_2x\rfloor = \begin{cases} 0,&amp;x = 1\\ 1 + \lfloor\log_2{\lfloor \frac x2 \rfloor}\rfloor,&amp;x &gt; 1, x\in\mathbb{N} \end{cases} \end{aligned}\] <h4 id="å¤šç»´stè¡¨">å¤šç»´STè¡¨</h4> <p>æ ¸å¿ƒæ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œå°†ä¸€ç»´çš„åˆ†è§£ä½œç”¨åˆ°å¤šä¸ªç»´åº¦ä¸Šå³å¯ã€‚ä¸‹é¢ä»¥äºŒç»´ä¸ºä¾‹ã€‚</p> \[\begin{aligned} &amp;f(i, j, t, k) = \begin{array}{r|c|c}\hline &amp; j = 0 &amp; j &gt; 0 \\\hline i = 0 &amp; ar(i, j) &amp; op\begin{pmatrix} f(i, j, t, k - 1), \\ f(i, j + 2^{k - 1}, t, k - 1)\end{pmatrix} \\\hline i &gt; 0 &amp; op\begin{pmatrix} f(i, j, t - 1, k), \\ f(i + 2^{t - 1}, j, t - 1, k)\end{pmatrix} &amp; op\begin{pmatrix} f(i, j, t - 1, k - 1), \\ f(i, j + 2^{k - 1}, t - 1, k - 1), \\ f(i + 2^{t - 1}, j, t - 1, k - 1), \\ f(i + 2^{t - 1}, j + 2^{k - 1}, t - 1, k - 1) \end{pmatrix} \\ \hline\end{array}\\ &amp;let\quad\mu = \lfloor\log_2(d - u)\rfloor,\ \lambda = \lfloor\log_2(r - 1)\rfloor\\ &amp;ask(u, d, l, r) = op\begin{pmatrix} f(u, l, \mu, \lambda), &amp; f(u, r - 2^\lambda, \mu, \lambda), \\ f(d - 2^\mu, l, \mu, \lambda), &amp; f(d - 2^\mu, r - 2^\lambda, \mu, \lambda) \end{pmatrix}\\ \end{aligned}\] <h3 id="æ ‘çŠ¶æ•°ç»„-äºŒå‰ç´¢å¼•æ ‘">æ ‘çŠ¶æ•°ç»„-äºŒå‰ç´¢å¼•æ ‘</h3> <p>æ ‘çŠ¶æ•°ç»„å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†åº”ç”¨ç¡®å®ååˆ†çµæ´»ã€‚</p> <p>è¯´èµ·æ ‘çŠ¶æ•°ç»„ï¼Œä¸å¾—ä¸æèµ·ä¸€ä¸ªååˆ†é‡è¦çš„äºŒè¿›åˆ¶ç›¸å…³æ“ä½œ\(lowbit\):è‹¥\(x\)çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹æœ«å°¾æœ‰\(k\)ä¸ªè¿ç»­çš„0ï¼Œåˆ™\(lowbit(x) = 2^k\)ï¼Œå€ŸåŠ©åŸç ä¸è¡¥ç çš„ç‰¹å¾ï¼Œå…¶è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š \(lowbit(x) = x\mbox{ &amp; }-x\)</p> <h4 id="ä¸€ç»´æ ‘çŠ¶æ•°ç»„">ä¸€ç»´æ ‘çŠ¶æ•°ç»„</h4> <h5 id="å•ç‚¹æ›´æ–°ä¸å‰ç¼€å’Œæ ¸å¿ƒæ“ä½œ">å•ç‚¹æ›´æ–°ä¸å‰ç¼€å’Œâ€”â€”æ ¸å¿ƒæ“ä½œ</h5> <p><img src="/assets/images/algorithm/DS-1/bit_tree.svg" alt="æ ‘çŠ¶æ•°ç»„"></p> <p>å¯ä»¥çœ‹åˆ°é»‘è‰²å®ç°ç®­å¤´å¯¹åº”çš„æ˜¯å•ç‚¹æ›´æ–°çš„æ“ä½œè·¯å¾„ï¼›è€Œçº¢è‰²è™šçº¿ç®­å¤´å¯¹åº”çš„æ˜¯å‰ç¼€å’Œçš„æŸ¥è¯¢è·¯å¾„ã€‚å¯ä»¥çœ‹åˆ°å®ƒä»¬æ˜¯åŒæ„çš„ï¼Œç›¸äº’å¯¹åº”çš„ã€‚</p> \[\begin{array}{c|c}\hline \begin{aligned} modify&amp;(x, c)\\ &amp;\begin{aligned} whlie\quad&amp;x\leqslant n\\ &amp;ar(x) = ar(x) + c\\ &amp;x = x + lowbit(x) \end{aligned} \end{aligned} &amp;\begin{aligned} prefix&amp;(x)\\ &amp;ret = 0\\ &amp;\begin{aligned} while\quad&amp;x &gt; 0\\ &amp;ret = ret + ar(x)\\ &amp;x = x - lowbit(x) \end{aligned}\\ &amp;return\quad ret \end{aligned}\\ \hline\end{array}\\\] <h5 id="çº¿æ€§æ—¶é—´å¤æ‚åº¦å»ºæ ‘">çº¿æ€§æ—¶é—´å¤æ‚åº¦å»ºæ ‘</h5> <p>é¦–å…ˆæ¥è¯´ä¸€ä¸‹æœ€ç›´è§‚çš„å»ºæ ‘æ–¹å¼ï¼šä¾æ¬¡å•ç‚¹æ›´æ–°ã€‚æ˜æ˜¾çš„ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯\(O(n\times\log n)\)ã€‚è€Œå¯ä»¥å‘ç°ä¸€æ¬¡å•ç‚¹æ›´æ–°çš„æœ¬è´¨åœ¨äºã€Œå¯¹äºæ¯ä¸€é¢—æ ‘ï¼Œä½¿ç”¨æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹æ¥æ›´æ–°æ ¹å…ƒç´ ã€ã€‚è€Œå®é™…ä¸Šæ¯ä¸ªå…ƒç´ æ˜¯å¯ä»¥ä»…ç”¨å…¶ç›´æ¥å­å…ƒç´ æ¥æ›´æ–°çš„ã€‚è¿™å°±æ˜¯çº¿æ€§æ—¶é—´å¤æ‚åº¦å»ºæ ‘ã€‚</p> \[\begin{aligned} loop\quad&amp;i\ from\ 1\ to\ n\\ &amp;ar(i) = ar(i) + raw(i)\\ &amp;\begin{aligned} if\quad&amp;i + lowbit(i)\leqslant n\\ &amp;ar(i + lowbit(i)) = ar(i + lowbit(i)) + ar(i) \end{aligned} \end{aligned}\] <h5 id="æ ‘çŠ¶æ•°ç»„çš„åº”ç”¨">æ ‘çŠ¶æ•°ç»„çš„åº”ç”¨</h5> <p>æ ‘çŠ¶æ•°ç»„çš„åº”ç”¨è¿‡äºå¹¿æ³›ï¼Œè¿™é‡Œè¿›ç®€å•ä»‹ç»ä¸€äº›ï¼Œè¯¦ç»†å†…å®¹ä¼šåœ¨åç»­ä¸“é¢˜æ–‡ç« ä¸­æ’°å†™ã€‚</p> <ul> <li>åŸºç¡€åº”ç”¨ï¼šå•ç‚¹ä¿®æ”¹ã€åŒºé—´æ±‚å’Œ</li> <li>ç»´æŠ¤å·®åˆ†ï¼šåŒºé—´ä¿®æ”¹ã€å•ç‚¹æŸ¥è¯¢</li> <li>ç»´æŠ¤å·®åˆ†åŠ è¾…åŠ©æ•°ç»„ï¼šåŒºé—´ä¿®æ”¹ã€åŒºé—´æŸ¥è¯¢</li> <li>ç»´æŠ¤ã€Œä¸å°äºã€ä¸å¤§äºã€å°äºã€å¤§äºæŸå€¼çš„è®¡æ•°ã€ï¼šåŒºé—´è®¡æ•°</li> <li>ç»´æŠ¤ã€Œåºåˆ—ä¸­æŸä½ç½®å‰ã€åä¸å°äºã€ä¸å¤§äºã€å°äºã€å¤§äºè¯¥å€¼çš„è®¡æ•°ã€ï¼šé™å®šåŒºé—´è®¡æ•°</li> <li>ç»´æŠ¤å…ƒç´ çš„å€¼ä½œä¸ºå¯é‡é›†åˆï¼šæŸ¥è¯¢ç¬¬kå°/å¤§å…ƒç´ </li> <li>â€¦â€¦</li> </ul> <h4 id="å¤šç»´æ ‘çŠ¶æ•°ç»„">å¤šç»´æ ‘çŠ¶æ•°ç»„</h4> <p>å’ŒSTè¡¨ä¸€æ ·ï¼Œè™½ç„¶ç»´åº¦å¤šäº†ï¼Œä½†æ¯ä¸ªç»´åº¦ä¸Šçš„è§„åˆ™æ˜¯ä¸€æ ·çš„ã€‚ä¸‹é¢ä»¥äºŒç»´ä¸ºä¾‹ã€‚</p> <p><strong>å•ç‚¹æ›´æ–°ä¸å‰ç¼€å’ŒæŸ¥è¯¢</strong></p> \[\begin{array}{c|c}\hline modify(x,\ y,\ c) &amp; prefix(x) \\\hline \begin{aligned} whlie\quad&amp;x\leqslant n\\ &amp;\begin{aligned} while\quad&amp;y\leqslant m\\ &amp;ar(x, y) = ar(x, y) + c\\ &amp;y = y + lowbit(y) \end{aligned}\\ &amp;x = x + lowbit(x) \end{aligned} &amp; \begin{aligned} &amp;ret = 0\\ &amp;\begin{aligned} while\quad&amp;x &gt; 0\\ &amp;\begin{aligned} while\quad&amp;y &gt; 0\\ &amp;ret = ret + ar(x, y)\\ &amp;y = y + lowbit(y) \end{aligned}\\ &amp;x = x - lowbit(x) \end{aligned}\\ &amp;return\quad ret \end{aligned}\\ \hline\end{array}\\\] <p><strong>\(O(nm)\)å»ºæ ‘</strong></p> \[\begin{aligned} loop\quad&amp;i\ from\ 1\ to\ n\\ &amp;\begin{aligned} loop\quad&amp;j\ from\ 1\ to\ m\\ &amp;ar(i, j) = ar(i, j) + raw(i, j)\\ &amp;fai = i + lowbit(i),\ faj = j + lowbit(j)\\ &amp;\begin{aligned} if\quad&amp;fai\leqslant n\\ &amp;ar(fai, j) = ar(fai, j) + ar(i, j)\\ if\quad&amp;faj\leqslant m\\ &amp;ar(i, faj) = ar(i, faj) + ar(i, j)\\ if\quad&amp;fai\leqslant n\mbox{ &amp;&amp; }faj\leqslant m\\ &amp;ar(fai, faj) = ar(fai, faj) + ar(i, j) \end{aligned} \end{aligned} \end{aligned}\] <h3 id="çº¿æ®µæ ‘">çº¿æ®µæ ‘</h3> <p>çº¿æ®µæ ‘æ˜¯è§£å†³åŒºé—´é—®é¢˜çš„ä¼˜ç§€æ•°æ®ç»“æ„ï¼Œæ— è®ºæ˜¯å…¶å­˜å‚¨æˆ–æ˜¯æ“ä½œéƒ½ä¼˜ç¾ã€‚</p> <h4 id="å †ç´¢å¼•-çº¿æ®µæ ‘çš„å­˜å‚¨ç»“æ„">å †ç´¢å¼•-çº¿æ®µæ ‘çš„å­˜å‚¨ç»“æ„</h4> <p><strong>å¯¹äºå¤§å°ä¸º\(N\)çš„åŒºé—´ï¼Œçº¿æ®µæ ‘çš„å­˜å‚¨èŠ‚ç‚¹æ•°é‡ä¸è¶…è¿‡\(4N\)</strong></p> <ul> <li>æ˜¾ç„¶ï¼Œå€’æ•°ç¬¬2å±‚çš„ç»“ç‚¹æ•°é‡ä¸€å®šå°äº\(N\) <ul> <li>å€’æ•°ç¬¬äºŒå±‚å³ä»¥ä¸Šä¸€å®šæ„æˆä¸€ä¸ªæ»¡äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹æ•°é‡ä¸€å®šå°äº\(2N - 1\)</li> <li>åº•å±‚èŠ‚ç‚¹æ•°é‡æœ€å¤šä¸ºä¸Šä¸€å±‚çš„2å€ï¼Œä¸€å®šå°äº\(2N\)</li> </ul> </li> <li>æ•…çº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º\(N\)çš„åŒºé—´ï¼Œæ‰€éœ€èŠ‚ç‚¹ä¸€å®šå°‘äº\(4N - 1\)</li> </ul> <p><strong>ç”±äºçº¿æ®µæ ‘çš„ç»“æ„è¿‘ä¼¼äºæ»¡äºŒå‰æ ‘ï¼Œå¯ä»¥ä½¿ç”¨å †ç´¢å¼•æ–¹å¼çš„æ•°ç»„æ¥å­˜å‚¨</strong></p> <p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoiZ3JhcGggVERcbjFbXCLikaAgWzEsIDE0KVwiXSAtLT4gMltcIuKRoSBbMSwgNylcIl1cbjIgLS0-IDRbXCLikaMgWzEsIDQpXCJdXG40IC0tPiA4W1wi4pGnIFsxLCAyKVwiXVxuNCAtLT4gOVtcIuKRqCBbMiwgNClcIl1cbjkgLS0-IDE4W1wi4pGxIFsyLCAzKVwiXVxuOSAtLT4gMTlbXCLikbIgWzMsIDQpXCJdXG4yIC0tPiA1W1wi4pGkIFs0LCA3KVwiXVxuNSAtLT4gMTBbXCLikakgWzQsIDUpXCJdXG41IC0tPiAxMVtcIuKRqiBbNSwgNylcIl1cbjExIC0tPiAyMltcIuOJkiBbNSwgNilcIl1cbjExIC0tPiAyM1tcIuOJkyBbNiwgNylcIl1cbjEgLS0-IDNbXCLikaIgWzcsIDE0KVwiXVxuMyAtLT4gNltcIuKRpSBbNywgMTApXCJdXG42IC0tPiAxMltcIuKRqyBbNywgOClcIl1cbjYgLS0-IDEzW1wi4pGsIFs4LCAxMClcIl1cbjEzIC0tPiAyNltcIuOJliBbOCwgOSlcIl1cbjEzIC0tPiAyN1tcIuOJlyBbOSwgMTApXCJdXG4zIC0tPiA3W1wi4pGmIFsxMCwgMTQpXCJdXG43IC0tPiAxNFtcIuKRrSBbMTAsIDEyKVwiXVxuMTQgLS0-IDI4W1wi44mYIFsxMCwgMTEpXCJdXG4xNCAtLT4gMjlbXCLjiZkgWzExLCAxMilcIl1cbjcgLS0-IDE1W1wi4pGuIFsxMiwgMTQpXCJdXG4xNSAtLT4gMzBbXCLjiZogWzEyLCAxMylcIl1cbjE1IC0tPiAzMVtcIuOJmyBbMTMsIDE0KVwiXSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In19"></p> <p>ä¸€èˆ¬åœ¨å®ç°æ—¶ï¼Œçº¿æ®µæ ‘æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥ä½¿ç”¨ç»“æ„ä½“è¡¨ç¤ºï¼Œå†…éƒ¨åŒ…å«åŸºç¡€å…ƒç´ \(l, r\)ç”¨äºæè¿°åŒºé—´èŒƒå›´ï¼Œ\(v\)è¡¨ç¤ºè¯¥åŒºé—´æ‰€æ±‚å±æ€§ã€‚æœ‰æ—¶å±æ€§çš„æ“ä½œéœ€è¦å…¶ä»–å˜é‡çš„ç»´æŠ¤ï¼Œåˆ™æ¶‰åŠçš„å˜é‡ä¹Ÿéœ€å­˜å‚¨ã€‚</p> <h4 id="pushup-çº¿æ®µæ ‘å¦‚ä½•æ±‚è§£åŒºé—´é—®é¢˜">\(pushup\)-çº¿æ®µæ ‘å¦‚ä½•æ±‚è§£åŒºé—´é—®é¢˜</h4> <p>å¯ä»¥å°†å¯¹äºä¸€ä¸ªåŒºé—´é—®é¢˜çš„è§£è§†ä¸ºè¯¥åŒºé—´çš„çš„å±æ€§\(v\)ï¼Œå¯¹äºä¸€ç§ç»™å®šçš„å±æ€§ï¼Œè‚¯å®šå­˜åœ¨ä¸€ç§ç›¸åº”çš„æ“ä½œ\(op\)å¯ä»¥å¯¹è¯¥å±æ€§è¿›è¡Œè®¡ç®—ã€‚</p> <p>è‹¥æ‰€æ±‚åŒºé—´\([l, r)\)å…ƒç´ å¤šäºä¸€ä¸ªï¼Œåˆ™çº¿æ®µæ ‘å°†è¯¥åŒºé—´ä»¥ä¸­é—´ç‚¹\(mid\)ä¸ºç•Œå¹³å‡åˆ†ä¸ºå·¦å³ä¸¤ä¸ªå­åŒºé—´\([l, mid)\)å’Œ\([mid, r)\)ï¼Œä¸¤ä¸ªå­åŒºé—´çš„å¯¹äºå±æ€§åˆ†åˆ«è®°ä½œ\(v_l, v_r\)ï¼Œåˆ™\(v = op(v_l, v_r)\)ã€‚</p> <p>è¿™ä¸ªæ“ä½œå°±æ˜¯çº¿æ®µæ ‘æœ€æ ¸å¿ƒçš„æ“ä½œï¼Œè®°åš\(pushup\)ã€‚æ­¤æ“ä½œçš„æ„ä¹‰å°±æ˜¯æ ¹æ®ä¸¤ä¸ªå­åŒºé—´çš„å±æ€§æ±‚è§£æœ¬åŒºé—´çš„å±æ€§ã€‚</p> \[pushup(u): tr(u).v = op(tr(u\ll 1u).v, tr(u\ll 1u\mid 1u).v)\] <h4 id="build-çº¿æ®µæ ‘çš„å»ºç«‹">\(build\)-çº¿æ®µæ ‘çš„å»ºç«‹</h4> <p>é¦–å…ˆï¼Œæ˜ç¡®å¯¹äºä¸€ä¸ªå¤§å°ä¸ºä¸€çš„åŒºé—´â€”â€”å•å…ƒç´ åŒºé—´ï¼Œè¿™ä¸ªåŒºé—´çš„æŸä¸ªå±æ€§å¯ä»¥ç›´æ¥æ ¹æ®è¿™å”¯ä¸€çš„å…ƒç´ å¾—åˆ°ã€‚</p> <ul> <li>è¿™ä¸ªå±æ€§å¯æ˜¯å…ƒç´ æœ¬èº«ï¼Œå¦‚æ±‚è§£å±æ€§ä¸º\(gcd, lcm, sum, max, min, product\)ç­‰ã€‚</li> <li>è‹¥æ±‚è§£å±æ€§ä¸ºæ»¡è¶³æŸæ¡ä»¶çš„å…ƒç´ ä¸ªæ•°ï¼Œåˆ™æ ¹æ®å…ƒç´ æ˜¯å¦æ»¡è¶³è¯¥æ¡ä»¶åˆ¤æ–­å¯¹åº”åŒºé—´å±æ€§ä¸º\(1\)æˆ–\(0\)ã€‚</li> <li>å…¶ä»–ç­‰ç­‰æƒ…å†µçš†å¯å…·ä½“åˆ†æå¾—å‡ºã€‚</li> </ul> <p>è¿™é‡ŒæŠŠå¯¹ä¸å•å…ƒç´ åŒºé—´å±æ€§çš„æ±‚è§£è®°åš\(meta\_attribute\)ã€‚</p> <p>å¯¹äºå¤§å°ä¸º\(n\)çš„åŒºé—´\(ar\)å»ºç«‹çº¿æ®µæ ‘\(tr\)ï¼š\(build(1, 1, n + 1)\)</p> \[\begin{aligned} build&amp;(u,\ l,\ r):\\ &amp;tr(u).l = l, tr(u).r = r\\ &amp;\begin{aligned} if\quad&amp;l == r - 1\\ &amp;tr(u).v = meta\_attribute(l)\\ &amp;return\\ \end{aligned}\\ &amp;build(u\ll 1u, l, (l + r)\gg 1u)\\ &amp;build(u\ll 1u\mid 1u, (l + r)\gg 1u, r)\\ &amp;pushup(u) \end{aligned}\] <h4 id="query-çº¿æ®µæ ‘çš„åŸºç¡€æŸ¥è¯¢">\(query\)-çº¿æ®µæ ‘çš„åŸºç¡€æŸ¥è¯¢</h4> <p>\(query(u, l, r)\)çš„æ„ä¹‰åœ¨äºæ±‚è§£çº¿æ®µæ ‘ä¸ŠèŠ‚ç‚¹\(u\)æ‰€ç»´æŠ¤çš„åŒºé—´\(tr(u)\)ä¸åŒºé—´\([l, r)\)çš„äº¤é›†çš„å±æ€§ã€‚é‚£ä¹ˆ\(query(1, l, r)\)å°±ä¸€å®šå¯ä»¥æ±‚å¾—åŒºé—´\([l, r)\)çš„å±æ€§ï¼Œå› ä¸ºçº¿æ®µæ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ç»´æŠ¤æ•´ä¸ªåŒºé—´ã€‚</p> <ul> <li> \[tr(u).l\geqslant l\mbox{ &amp;&amp; }tr(u).r\leqslant r\Rightarrow tr(u)\cap [l, r) = tr(u)\] <p>è¿™ç§æƒ…å†µäº¤é›†çš„å±æ€§æ˜¾ç„¶æ˜¯\(tr(u).v\)</p> </li> <li> \[tr(u).l\geqslant r\mbox{ || }tr(u).r\leqslant l\Rightarrow tr(u)\cap [l, r) = \emptyset\] <p>ç©ºé›†åªå‡ºç°åœ¨ä¸‹é¢æƒ…å†µçš„å­åˆ†æ”¯ä¸­ï¼Œå…¶å±æ€§éœ€ç»“åˆå…·ä½“ç‰¹å¾ï¼Œä½¿å¾—å¯¹äºä»»æ„é›†åˆ\(x\)ï¼Œæ»¡è¶³\(op(\emptyset.v, x.v) = x.v\)</p> </li> <li> \[tr(u)\cap [l, r)\not = \emptyset\mbox{ &amp;&amp; }tr(u)\cap [l, r) \not= tr(u)\] <p>æ­¤æ—¶äº¤é›†çš„å±æ€§ä¸º\(tr(u)\)çš„ä¸¤ä¸ªå­é›†åˆ†åˆ«ä¸\([l, r)\)çš„äº¤é›†çš„å±æ€§åš\(op\)æ“ä½œ</p> </li> </ul> \[\begin{aligned} query&amp;(u,\ l,\ r)\\ &amp;\begin{aligned} if\quad&amp;tr(u).l\geqslant l\mbox{ &amp;&amp; }tr(u).r\leqslant r\\ &amp;return\quad tr(u).v \end{aligned}\\ &amp;\begin{aligned} if\quad&amp;tr(u).l\geqslant r\mbox{ || }tr(u).r\leqslant l\\ &amp;return\quad \emptyset.v \end{aligned}\\ &amp;return\quad op(query(u\ll 1u,\ l,\ r),\ query(u\ll\mid 1u,\ l,\ r)) \end{aligned}\] <h4 id="çº¿æ®µæ ‘çš„åŠ¨æ€ç»´æŠ¤">çº¿æ®µæ ‘çš„åŠ¨æ€ç»´æŠ¤</h4> <h5 id="modify-å•ç‚¹æ›´æ–°">\(modify\)-å•ç‚¹æ›´æ–°</h5> <p>\(modify(u, id, x)\)è¡¨ç¤ºä½¿ç”¨å‚æ•°\(x\)å°†çº¿æ®µæ ‘ä¸­èŠ‚ç‚¹\(u\)æ‰€ç»´æŠ¤çš„åŒºé—´ä¸­ç¼–å·(åŸåºåˆ—ç¼–å·)ä¸º\(id\)çš„å¶èŠ‚ç‚¹æ›´æ–°ã€‚ä¸»è¦æ€æƒ³æœ‰ä¸¤æ­¥ï¼š</p> <ul> <li>è‡ªä¸Šè€Œä¸‹äºŒåˆ†æŸ¥æ‰¾åˆ°ç›®æ ‡å¶èŠ‚ç‚¹å¹¶æ›´æ–°</li> <li>ä»ç›®æ ‡å¶èŠ‚ç‚¹è‡ªä¸‹è€Œä¸Šæ›´æ–°æ‰€æ¶‰åŠåŒºé—´çš„å±æ€§</li> </ul> \[\begin{aligned} modify&amp;(u,\ id,\ x)\\ &amp;\begin{aligned} if\quad&amp;tr(u).l == id\mbox{ &amp;&amp; }tr(u).r == r - 1\\ &amp;\text{modify }tr(u).v\text{ with x}\\ else\ &amp;\\ &amp;mid = (tr(u).l + tr(u).r)\gg 1u\\ &amp;\begin{aligned} if\quad&amp;id &lt; mid\\ &amp;modify(u\ll 1u,\ id,\ x)\\ else\ &amp;\\ &amp;modify(u\ll 1u\mid 1u,\ id,\ x) \end{aligned}\\ &amp;pushup(u) \end{aligned} \end{aligned}\] <h5 id="pushdown-æ‡’æ ‡è®°ä¸åŒºé—´æ›´æ–°">\(pushdown\)-æ‡’æ ‡è®°ä¸åŒºé—´æ›´æ–°</h5> <p>æ‡’æ ‡è®°çš„æ€æƒ³æ¥æºäºæŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åšä¸€ä¸‹å¯¹æ¯”ã€‚</p> <table> <thead> <tr> <th style="text-align: right">\(tr(u)\cap[l, r)\)</th> <th style="text-align: center">\(= tr(u)\)</th> <th style="text-align: center">\(= \emptyset\)</th> <th style="text-align: center">\(\not = tr(u)\mbox{ &amp;&amp; }\not = \emptyset\)</th> </tr> </thead> <tbody> <tr> <td style="text-align: right">æ™®é€šæŸ¥è¯¢</td> <td style="text-align: center">è¿”å›\(tr(u).v\)</td> <td style="text-align: center">è¿”å›\(\emptyset.v\)</td> <td style="text-align: center">è¿”å›\(op\)(æŸ¥å·¦å­ï¼ŒæŸ¥å³å­)</td> </tr> <tr> <td style="text-align: right">åŒºé—´æ›´æ–°</td> <td style="text-align: center">æ›´æ–°\(tr(u)\)çš„æ‡’æ ‡</td> <td style="text-align: center">ç»“æŸæ­¤æ–¹å‘çš„æ›´æ–°</td> <td style="text-align: center">å°†æ‡’æ ‡æ›´æ–°åˆ°å·¦å³å­æ ‘</td> </tr> <tr> <td style="text-align: right">å¸¦æ‡’æ ‡æŸ¥è¯¢</td> <td style="text-align: center">è¿”å›\(tr(u).v\)ä¸æ‡’æ ‡ä½œç”¨çš„ç»“æœ</td> <td style="text-align: center">è¿”å›\(\emptyset.v\)</td> <td style="text-align: center">å…ˆä¸‹ä¼ æ‡’æ ‡ï¼Œå†è¿”å›\(op\)(æŸ¥å·¦å­ï¼ŒæŸ¥å³å­)</td> </tr> </tbody> </table> <h4 id="çº¿æ®µæ ‘çš„åº”ç”¨">çº¿æ®µæ ‘çš„åº”ç”¨</h4> <p>åŒæ ‘çŠ¶æ•°ç»„ä¸€æ ·ï¼Œçº¿æ®µæ ‘çš„åº”ç”¨è¿‡äºå¹¿æ³›ï¼Œè¿™é‡Œä»…è¿›è¡Œä¸€äº›ç®€å•ä»‹ç»ã€‚è¯¦ç»†å†…å®¹ä¼šåœ¨åç»­ä¸“é¢˜æ–‡ç« ä¸­æ’°å†™ã€‚</p> <ul> <li>å‡ ä¹æ‰€æœ‰çš„åŒºé—´é—®é¢˜</li> <li>æ‰«æçº¿æ³•çš„åº”ç”¨</li> </ul> </div> </div> </div> </div> </div> <footer> <div class="container"> <div class="row"> <div class="col-lg-8"> <p>Mooyyu Crab.'s Blog <i class="fa fa-heart text-danger" aria-hidden="true"></i>. Check out <a href="//github.com/mooyyu/mooyyu.github.io" target="_blank">Github Project <i class="fa fa-github-alt" aria-hidden="true"></i></a>.<br> The contents of this website are Â© 2021 under the terms of the <a href="//www.gnu.org/licenses/gpl-3.0.txt" target="_blank">GPLv3</a> License.</p> </div> <div class="col-lg-4"> <div class="pull-right"> <a href="#top" data-proofer-ignore> Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a> </div> </div> </div> </div> </footer> <div style="width: 100%; overflow-x: hidden;"> <canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"></canvas> </div> <script>
  MathJax = {
    options: {
      enableMenu: false
    }
  };
</script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-128176907-1', {
          'cookieDomain': 'mooyyu.github.io',
          'siteSpeedSampleRate': 80
      });

      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script> </body> </html>
